(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{158:function(e,t,c){"use strict";c.r(t);var a=c(4),r=c(2),s=c.n(r),n=c(10),o=c(19),i=c.n(o),l=c(8),d=c.n(l),j=c(14),u=c(12),b=c(21),m=c(5),p=(c(48),c(1)),O=function(e){var t=e.history,c=Object(r.useState)(""),a=Object(u.a)(c,2),s=a[0],n=a[1];return Object(p.jsx)("form",{onSubmit:function(e){e.preventDefault(),s.trim()||t.push("/"),t.push("/search/".concat(s))},children:Object(p.jsxs)("div",{className:"input-group",children:[Object(p.jsx)("input",{type:"text",id:"search_field",className:"form-control",placeholder:"Enter Product Name ...",value:s,onChange:function(e){return n(e.target.value)},required:!0}),Object(p.jsx)("div",{className:"input-group-append",children:Object(p.jsx)("button",{id:"search_btn",className:"btn",children:Object(p.jsx)("i",{className:"fa fa-search","aria-hidden":"true"})})})]})})},h=c(16),f=c.n(h),x="LOGIN_REQUEST",g="LOGIN_SUCCESS",v="LOGIN_FAIL",y="SIGNUP_REQUEST",N="SIGNUP_SUCCESS",E="SIGNUP_FAIL",_="LOAD_CURRENTUSER_REQUEST",w="LOAD_CURRENTUSER_SUCCESS",S="LOAD_CURRENTUSER_FAIL",R="ALL_USERS_REQUEST",C="ALL_USERS_SUCCESS",P="ALL_USERS_FAIL",T="UPDATE_USER_REQUEST",U="UPDATE_USER_SUCCESS",A="UPDATE_USER_FAIL",D="UPDATE_USER_RESET",I="DELETE_USER_REQUEST",F="DELETE_USER_SUCCESS",L="DELETE_USER_FAIL",k="DELETE_USER_RESET",M="LOGOUT_USER_SUCCESS",Q="UPATE_USER_PROFILE_REQUEST",q="UPATE_USER_PROFILE_SUCCESS",W="RESET_USER_UPDATE_PROFILE",V="UPATE_USER_PROFILE_FAIL",G="UPATED_USER_PASSWORD_REQUEST",z="UPATED_USER_PASSWORD_SUCCESS",$="UPATED_USER_PASSWORD_FAIL",H="USER_DETAILS_REQUEST",Y="USER_DETAILS_SUCCESS",B="USER_DETAILS_FAIL",J="FORGOT_USER_PASSWORD_REQUEST",K="FORGOT_USER_PASSWORD_SUCCESS",X="FORGOT_USER_PASSWORD_FAIL",Z="RESET_USER_PASSWORD_REQUEST",ee="RESET_USER_PASSWORD_SUCCESS",te="RESET_USER_PASSWORD_FAIL",ce="CLEAR_ERRORS",ae=function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:ce});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},re=function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:_}),e.next=4,f.a.get("/api/v1/users/me");case 4:c=e.sent,t({type:w,payload:c.data.user}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:S,payload:e.t0.response.data.message});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},se=function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:R}),e.next=4,f.a.get("/api/v1/users");case 4:c=e.sent,console.log(c.data),t({type:C,payload:{users:c.data.users}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:P,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},ne=c(164),oe=function(){return Object(p.jsx)(ne.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"})},ie=c(11),le=function(){var e=Object(m.c)((function(e){return e.authReducer})),t=e.loading,c=e.user,a=e.isAuthenticated,s=Object(m.c)((function(e){return e.cartReducer})),o=s.cartLoading,i=s.cartItemsLength,l=Object(m.b)(),u=Object(ie.d)(),h=c&&"admin"===c.role&&Object(p.jsx)(n.b,{className:"dropdown-item",to:"/dashboard",children:"Dashboard"}),x=c?Object(p.jsxs)("div",{className:"ml-4 dropdown d-inline",children:[Object(p.jsxs)(n.b,{to:"/",className:"btn dropdown-toggle text-white mr-4",type:"button",id:"dropDownMenu","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:[Object(p.jsx)("figure",{className:"avatar avatar-nav",children:Object(p.jsx)("img",{src:c.avatar&&c.avatar.url,alt:c&&c.name,className:"rounded-circle"})}),Object(p.jsx)("span",{children:c&&c.name})]}),Object(p.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"dropDownMenu",children:[h,Object(p.jsx)(n.b,{className:"dropdown-item",to:"/orders",children:"Orders"}),Object(p.jsx)(n.b,{className:"dropdown-item",to:"/me",children:"Profile"}),Object(p.jsx)(n.b,{to:"/",className:"dropdown-item text-danger",onClick:function(){l(function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("/api/v1/users/logout");case 3:t({type:M}),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0.response),t({type:"LOGOUT_USER_FAIL"});case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),u.success("Logged out successfullly")},children:"Logout"})]})]}):!t&&Object(p.jsx)(n.b,{to:"/login",className:"btn ml-4",id:"login_btn",children:"Login"}),g=a&&Object(p.jsxs)(n.b,{to:"/cart",style:{textDecoration:"none"},children:[Object(p.jsx)("span",{id:"cart",className:"ml-3",children:"Cart"}),Object(p.jsx)("span",{className:"ml-1",id:"cart_count",children:o?Object(p.jsx)(oe,{}):i})]});return Object(p.jsx)(r.Fragment,{children:Object(p.jsxs)("nav",{className:"navbar row",children:[Object(p.jsx)("div",{className:"col-12 col-md-3",children:Object(p.jsx)("div",{className:"navbar-brand",children:Object(p.jsx)(n.b,{to:"/",children:Object(p.jsx)("img",{src:"/images/logo.png",alt:"ShopIt"})})})}),Object(p.jsx)("div",{className:"col-12 col-md-6 mt-2 mt-md-0",children:Object(p.jsx)(b.b,{render:function(e){var t=e.history;return Object(p.jsx)(O,{history:t})}})}),Object(p.jsxs)("div",{className:"col-12 col-md-3 mt-4 mt-md-0 text-center",children:[g,x]})]})})},de=function(){return Object(p.jsx)(r.Fragment,{children:Object(p.jsx)("footer",{className:"py-1",children:Object(p.jsx)("p",{className:"text-center mt-1",children:"Shopping Cart - 2019-2020, All Rights Reserved"})})})};var je=function(e){return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(le,{}),Object(p.jsx)("main",{children:e.children}),Object(p.jsx)(de,{})]})},ue=c(59),be=(c(128),"All_PRODUCTS_REQUEST"),me="All_PRODUCTS_SUCCESS",pe="All_PRODUCTS_FAIL",Oe="ADMIN_PRODUCTS_REQUEST",he="ADMIN_PRODUCTS_SUCCESS",fe="ADMIN_PRODUCTS_FAIL",xe="PRODUCT_DETAILS_REQUEST",ge="PRODUCT_DETAILS_SUCCESS",ve="PRODUCT_DETAILS_FAIL",ye="DELETE_PRODUCT_REQUEST",Ne="DELETE_PRODUCT_SUCCESS",Ee="DELETE_PRODUCT_FAIL",_e="DELETE_PRODUCT_RESET",we="UPDATE_PRODUCT_REQUEST",Se="UPDATE_PRODUCT_SUCCESS",Re="UPDATE_PRODUCT_FAIL",Ce="UPDATE_PRODUCT_RESET",Pe="NEW_PRODUCT_REQUEST",Te="NEW_PRODUCT_SUCCESS",Ue="NEW_PRODUCT_RESET",Ae="NEW_PRODUCT_FAIL",De="GET_REVIEWS_REQUEST",Ie="GET_REVIEWS_SUCCESS",Fe="GET_REVIEWS_FAIL",Le="DELETE_REVIEW_REQUEST",ke="DELETE_REVIEW_SUCCESS",Me="DELETE_REVIEW_RESET",Qe="DELETE_REVIEW_FAIL",qe="CLEAR_ERRORS",We="RESET_PRODUCT",Ve=function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:qe});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ge=function(e){return function(){var t=Object(j.a)(d.a.mark((function t(c){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:xe}),t.next=4,f.a.get("/api/v1/products/".concat(e));case 4:a=t.sent,c({type:ge,payload:a.data.product}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),c({type:ve,payload:t.t0.response.data.message});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},ze=function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Oe}),e.next=4,f.a.get("/api/v1/products/admin");case 4:c=e.sent,console.log(),t({type:he,payload:c.data.products}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:fe,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},$e=c(84),He=function(e){var t=e.title;return Object(p.jsx)($e.a,{children:Object(p.jsx)("title",{children:"".concat(t," - ShopIt")})})},Ye=function(e){var t=e.product,c=e.col;return Object(p.jsx)("div",{className:"col-sm-12 col-md-6 col-lg-".concat(c," my-3"),children:Object(p.jsxs)("div",{className:"card p-3 rounded",children:[Object(p.jsx)("img",{className:"card-img-top mx-auto",src:t.images[0].url,alt:t.name}),Object(p.jsxs)("div",{className:"card-body d-flex flex-column",children:[Object(p.jsx)("h5",{className:"card-title",children:Object(p.jsx)(n.b,{to:"/product/".concat(t._id),children:t.name})}),Object(p.jsxs)("div",{className:"ratings mt-auto",children:[Object(p.jsx)("div",{className:"rating-outer",children:Object(p.jsx)("div",{className:"rating-inner",style:{width:"".concat(t.ratings/5*100,"%")}})}),Object(p.jsxs)("span",{id:"no_of_reviews",children:["(",t.numOfReviews," Reviews)"]})]}),Object(p.jsxs)("p",{className:"card-text",children:["$",t.price]}),Object(p.jsx)(n.b,{to:"/product/".concat(t._id),id:"view_btn",className:"btn btn-block",children:"View Details"})]})]})})},Be=function(){return Object(p.jsx)("div",{className:"loader"})},Je=c(87),Ke=c.n(Je),Xe=function(e){return Object(p.jsx)("div",{className:"d-flex justify-content-center mt-5",children:Object(p.jsx)(Ke.a,{activePage:e.currentPage,itemsCountPerPage:Number(e.productsPerPage)||0,totalItemsCount:Number(e.productsCount)||0,onChange:e.onChange,nextPageText:"Next",prevPageText:"Prev",firstPageText:"First",lastPageText:"Last",itemClass:"page-item",linkClass:"page-link"})})},Ze=(0,ue.a.createSliderWithTooltip)(ue.a.Range),et=["Electronics","Cameras","Laptops","Accessories","Headphones","Food","Books","Cloths/Shoes","Beauty/Health","Sports","Outdoor","Home"],tt=function(){var e=Object(m.c)((function(e){return e.products})),t=e.products,c=e.loading,a=e.error,s=e.productsPerPage,n=e.productsCount,o=e.filteredProductsCount,i=Object(r.useState)(1),l=Object(u.a)(i,2),O=l[0],h=l[1],x=Object(r.useState)([1,1e3]),g=Object(u.a)(x,2),v=g[0],y=g[1],N=Object(r.useState)(""),E=Object(u.a)(N,2),_=E[0],w=E[1],S=Object(r.useState)(0),R=Object(u.a)(S,2),C=R[0],P=R[1],T=Object(m.b)(),U=Object(ie.d)(),A=Object(b.g)().keyword;Object(r.useEffect)((function(){T(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,c=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;return function(){var s=Object(j.a)(d.a.mark((function s(n){var o,i;return d.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,n({type:be}),o="/api/v1/products?page=".concat(t,"&limit=4&keyword=").concat(e,"&price[lte]=").concat(c[1],"&price[gte]=").concat(c[0],"&ratings[gte]=").concat(r),a&&(o="/api/v1/products?page=".concat(t,"&limit=4&keyword=").concat(e,"&price[lte]=").concat(c[1],"&price[gte]=").concat(c[0],"&category=").concat(a,"&ratings[gte]=").concat(r)),s.next=6,f.a.get(o);case 6:i=s.sent,n({type:me,payload:i.data}),s.next=13;break;case 10:s.prev=10,s.t0=s.catch(0),n({type:pe,payload:s.t0.response.data.message});case 13:case"end":return s.stop()}}),s,null,[[0,10]])})));return function(e){return s.apply(this,arguments)}}()}(A,O,v,_,C))}),[U,O,A,v,_,C,T]),Object(r.useEffect)((function(){if(a)return U.error(a)}),[T,a,U]);var D=t&&t.map((function(e){return Object(p.jsx)(Ye,{product:e,col:4},e._id)})),I=Object(p.jsxs)(r.Fragment,{children:[Object(p.jsx)("div",{className:"col-6 col-md-3 mt-5 mb-5",children:Object(p.jsxs)("div",{className:"px-5",children:[Object(p.jsx)(Ze,{marks:{1:"$1",1e3:"$1000"},min:1,max:1e3,defaultValue:[1,1e3],tipFormatter:function(e){return"".concat(e)},tipProps:{placement:"top",visible:!0},value:v,onChange:function(e){return y(e)}}),Object(p.jsx)("hr",{className:"my=5"}),Object(p.jsxs)("div",{className:"mt-5",children:[Object(p.jsx)("h4",{className:"mb-3",children:"Categories"}),Object(p.jsx)("ul",{className:"pl-0",children:et.map((function(e){return Object(p.jsx)("li",{style:{cursor:"pointer",listStyleType:"none"},onClick:function(){return w(e)},children:e},e)}))})]}),Object(p.jsxs)("div",{className:"mt-5",children:[Object(p.jsx)("h4",{className:"mb-3",children:"Ratings"}),Object(p.jsx)("ul",{className:"pl-0",children:[5,4,3,2,1].map((function(e){return Object(p.jsx)("li",{style:{cursor:"pointer",listStyleType:"none"},onClick:function(){return P(e)},children:Object(p.jsx)("div",{className:"rating-outer",children:Object(p.jsx)("div",{className:"rating-inner",style:{width:"".concat(20*e,"%")}})})},e)}))})]})]})}),Object(p.jsx)("div",{className:"col-6 col-md-9",children:Object(p.jsx)("div",{className:"row",children:t&&t.map((function(e){return Object(p.jsx)(Ye,{product:e,col:4},e._id)}))})})]}),F=A?o:n;return Object(p.jsxs)(r.Fragment,{children:[Object(p.jsx)(He,{title:"Buy Best Products Online"}),Object(p.jsx)("h1",{id:"products-heading",children:"Latest Products"}),c?Object(p.jsx)(Be,{}):Object(p.jsxs)(r.Fragment,{children:[Object(p.jsx)("section",{id:"products",className:"container mt-5",children:Object(p.jsx)("div",{className:"row",children:A?I:D})}),s<F&&Object(p.jsx)(Xe,{productsPerPage:s,productsCount:n,currentPage:O,onChange:function(e){h(e)}})]})]})},ct=c(165),at="FETCH_CART_ITEMS_REQUEST",rt="FETCH_CART_ITEMS_SUCCESS",st="FETCH_CART_ITEMS_FAIL",nt="ADD_ITEM_TO_CART_REQUEST",ot="ADD_ITEM_TO_CART_SUCCESS",it="ADD_ITEM_TO_CART_FAIL",lt="REMOVE_ITEM_FROM_CART_REQUEST",dt="REMOVE_ITEM_FROM_CART_SUCCESS",jt="REMOVE_ITEM_FROM_CART_FAIL",ut="DELETE_ITEM_FROM_CART_REQUEST",bt="DELETE_ITEM_FROM_CART_SUCCESS",mt="DELETE_ITEM_FROM_CART_FAIL",pt="SAVE_SHIPPING_INFO",Ot="RESET_CART_ITEM",ht="CLEAR_ERRORS",ft=function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:ht});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},xt=function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){var c,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:at}),e.next=4,f.a.get("/api/v1/cart/me");case 4:c=e.sent,console.log(c.data),a=c.data.cartItems.reduce((function(e,t){return e+t.totalPrice}),0),r=c.data.cartItems.reduce((function(e,t){return e+t.totalQuantity}),0),t({type:rt,payload:{cartItems:c.data.cartItems,cartItemsLength:c.data.results,cartTotalPrice:a,cartTotalQuantity:r}}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:st,payload:e.t0.response.data.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},gt=function(e,t){return function(){var c=Object(j.a)(d.a.mark((function c(a){var r,s;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,a({type:nt}),r={headers:{"Content-Type":"application/json"}},c.next=5,f.a.post("/api/v1/cart/".concat(e),{totalQuantity:t},r);case 5:s=c.sent,console.log(s.data),a({type:ot}),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(0),a({type:it,payload:c.t0.response.data.message});case 13:case"end":return c.stop()}}),c,null,[[0,10]])})));return function(e){return c.apply(this,arguments)}}()},vt="NEW_REVIEW_REQUEST",yt="NEW_REVIEW_SUCCESS",Nt="NEW_REVIEW_RESET",Et="NEW_REVIEW_FAIL",_t="CLEAR_ERRORS",wt=function(e){var t=e.id,c=Object(r.useState)(0),a=Object(u.a)(c,2),s=a[0],n=a[1],o=Object(r.useState)(""),i=Object(u.a)(o,2),l=i[0],b=i[1],O=Object(m.c)((function(e){return e.authReducer})).user,h=Object(m.c)((function(e){return e.newReview})),x=h.error,g=h.success,v=Object(m.b)(),y=Object(ie.d)();Object(r.useEffect)((function(){x&&(y.error(x),v(function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:_t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[x,v,y]),Object(r.useEffect)((function(){g&&(v(Ge(t)),y.success("review added successfully!"),v({type:Nt}))}),[v,y,g,t]);return Object(p.jsxs)(r.Fragment,{children:[O&&Object(p.jsx)("button",{id:"review_btn",type:"button",className:"btn btn-primary mt-4","data-toggle":"modal","data-target":"#ratingModal",onClick:function(){var e=document.querySelectorAll(".star");function t(t){var c=this;e.forEach((function(e,a){"click"===t.type&&(a<c.starValue?(e.classList.add("orange"),n(c.starValue)):e.classList.remove("orange")),"mouseover"===t.type&&(a<c.starValue?e.classList.add("yellow"):e.classList.remove("yellow")),"mouseout"===t.type&&e.classList.remove("yellow")}))}e.forEach((function(e,c){e.starValue=c+1,["click","mouseover","mouseout"].forEach((function(c){e.addEventListener(c,t)}))}))},children:"Submit Your Review"}),Object(p.jsx)("div",{className:"row mt-2 mb-5",children:Object(p.jsx)("div",{className:"rating w-50",children:Object(p.jsx)("div",{className:"modal fade",id:"ratingModal",tabIndex:"-1",role:"dialog","aria-labelledby":"ratingModalLabel","aria-hidden":"true",children:Object(p.jsx)("div",{className:"modal-dialog",role:"document",children:Object(p.jsxs)("div",{className:"modal-content",children:[Object(p.jsxs)("div",{className:"modal-header",children:[Object(p.jsx)("h5",{className:"modal-title",id:"ratingModalLabel",children:"Submit Review"}),Object(p.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(p.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(p.jsxs)("div",{className:"modal-body",children:[Object(p.jsxs)("ul",{className:"stars",children:[Object(p.jsx)("li",{className:"star",children:Object(p.jsx)("i",{className:"fa fa-star"})}),Object(p.jsx)("li",{className:"star",children:Object(p.jsx)("i",{className:"fa fa-star"})}),Object(p.jsx)("li",{className:"star",children:Object(p.jsx)("i",{className:"fa fa-star"})}),Object(p.jsx)("li",{className:"star",children:Object(p.jsx)("i",{className:"fa fa-star"})}),Object(p.jsx)("li",{className:"star",children:Object(p.jsx)("i",{className:"fa fa-star"})})]}),Object(p.jsx)("textarea",{name:"review",id:"review",className:"form-control mt-3",value:l,onChange:function(e){return b(e.target.value)},required:!0}),Object(p.jsx)("button",{className:"btn my-3 float-right review-btn px-4 text-white","data-dismiss":"modal","aria-label":"Close",onClick:function(){v(function(e,t){return function(){var c=Object(j.a)(d.a.mark((function c(a){var r,s;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,a({type:vt}),r={headers:{"Content-Type":"application/json"}},c.next=5,f.a.patch("/api/v1/products/review/".concat(t),e,r);case 5:s=c.sent,a({type:yt,payload:s.data.success}),c.next=13;break;case 9:c.prev=9,c.t0=c.catch(0),console.log(c.t0.response.data.message),a({type:Et,payload:c.t0.response.data.message});case 13:case"end":return c.stop()}}),c,null,[[0,9]])})));return function(e){return c.apply(this,arguments)}}()}({rating:s,comment:l},t))},children:"Submit"})]})]})})})})})]})},St=function(e){var t=e.reviews;return Object(p.jsxs)("div",{class:"reviews w-75",children:[Object(p.jsx)("h3",{children:"Other's Reviews:"}),Object(p.jsx)("hr",{}),t&&t.length>0&&t.map((function(e){return Object(p.jsxs)("div",{class:"review-card my-3",children:[Object(p.jsx)("div",{class:"rating-outer",children:Object(p.jsx)("div",{class:"rating-inner",style:{width:"".concat(e.rating/5*100,"%")}})}),Object(p.jsxs)("p",{class:"review_user",children:["by ",e.name]}),Object(p.jsx)("p",{class:"review_comment",children:e.comment}),Object(p.jsx)("hr",{})]})}))]})},Rt=function(e){var t=e.product,c=Object(m.b)(),a=Object(b.g)().id,s=Object(m.c)((function(e){return e.cartReducer})),o=s.cartLoading,i=s.cartItems,l=i&&i.find((function(e){return e.product._id===a}));return Object(p.jsxs)("div",{className:"row f-flex justify-content-around",children:[Object(p.jsx)("div",{className:"col-12 col-lg-5 img-fluid",id:"product_image",children:Object(p.jsx)(ct.a,{pause:"hover",children:t.images&&t.images.map((function(e){return Object(p.jsx)(ct.a.Item,{children:Object(p.jsx)("img",{className:"d-block w-100",src:e.url,alt:t.title})},e.public_id)}))})}),Object(p.jsxs)("div",{className:"col-12 col-lg-5 mt-5",children:[Object(p.jsx)("h3",{children:t.name}),Object(p.jsxs)("p",{id:"product_id",children:["Product # ",t._id]}),Object(p.jsx)("hr",{}),Object(p.jsx)("div",{className:"rating-outer",children:Object(p.jsx)("div",{className:"rating-inner",style:{width:"".concat(t.ratings/5*100,"%")}})}),Object(p.jsxs)("span",{id:"no_of_reviews",children:["(",t.numOfReviews," Reviews)"]}),Object(p.jsx)("hr",{}),Object(p.jsxs)("p",{id:"product_price",children:["$",t.price]}),o?Object(p.jsx)(oe,{}):l?Object(p.jsx)(n.b,{to:"/cart",children:Object(p.jsx)("button",{type:"button",id:"cart_btn",className:"btn btn-primary d-inline ml-4",children:"Go to Cart"})}):Object(p.jsx)(r.Fragment,{children:Object(p.jsx)("button",{type:"button",id:"cart_btn",className:"btn btn-primary d-inline ml-4",onClick:function(){c(gt(t._id,1))},disabled:0===t.stock||o,children:o?Object(p.jsx)(oe,{}):"Add to cart"})}),Object(p.jsx)("hr",{}),Object(p.jsxs)("p",{children:["Status:"," ",Object(p.jsx)("span",{id:"stock_status",className:t.stock>0?"greenColor":"redColor",children:t.stock>0?"In Stock":"Out of Stock"})]}),Object(p.jsx)("hr",{}),Object(p.jsx)("h4",{className:"mt-2",children:"Description:"}),Object(p.jsx)("p",{children:t.description}),Object(p.jsx)("hr",{}),Object(p.jsxs)("p",{id:"product_seller mb-3",children:["Sold by: ",Object(p.jsx)("strong",{children:t.seller})]}),Object(p.jsx)(wt,{id:t._id}),t.reviews&&t.reviews.length>0&&Object(p.jsx)(St,{reviews:t.reviews})]})]})},Ct=function(e){var t=e.match,c=Object(ie.d)(),a=Object(b.f)(),s=Object(m.b)(),n=Object(m.c)((function(e){return e.cartActionsReducer})).success,o=Object(m.c)((function(e){return e.productDetails})),i=o.product,l=o.loading,d=o.error,j=t.params.id;Object(r.useEffect)((function(){if(d)return c.error(d);s(Ge(j))}),[s,j,d,c]),Object(r.useEffect)((function(){n&&(a.push("/cart"),c.success("Item added to cart"),s({type:Ot}))}),[n,c,a,s]),Object(r.useEffect)((function(){return function(){s({type:"CLEAR_PRODUCTS"}),console.log("Hello")}}),[s]);var u=d?Object(p.jsxs)(r.Fragment,{children:[Object(p.jsx)(He,{title:"No product found"}),Object(p.jsx)("p",{children:"No product found"})]}):Object(p.jsxs)(r.Fragment,{children:[Object(p.jsx)(He,{title:i.name}),Object(p.jsx)(Rt,{product:i})]});return Object(p.jsx)(r.Fragment,{children:l?Object(p.jsx)(Be,{}):u})},Pt=function(e){e.history;var t=Object(r.useState)(""),c=Object(u.a)(t,2),a=c[0],s=c[1],o=Object(r.useState)(""),i=Object(u.a)(o,2),l=i[0],b=i[1],O=Object(ie.d)(),h=Object(m.b)(),y=Object(m.c)((function(e){return e.authReducer})),N=y.loading,E=y.error,_=y.isAuthenticated;return Object(r.useEffect)((function(){E&&(O.error(E),h(ae()))}),[_,E,O,h]),Object(p.jsxs)(r.Fragment,{children:[Object(p.jsx)(He,{title:"Login"}),Object(p.jsx)("div",{className:"row wrapper",children:Object(p.jsx)("div",{className:"col-10 col-lg-5",children:Object(p.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault(),h(function(e,t){return function(){var c=Object(j.a)(d.a.mark((function c(a){var r,s;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,a({type:x}),r={headers:{"Content-Type":"application/json"}},c.next=5,f.a.post("/api/v1/users/login",{email:e,password:t},r);case 5:s=c.sent,console.log(s),a({type:g,payload:s.data.user}),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(0),a({type:v,payload:c.t0.response.data.message});case 13:case"end":return c.stop()}}),c,null,[[0,10]])})));return function(e){return c.apply(this,arguments)}}()}(a,l))},children:[Object(p.jsx)("h1",{className:"mb-3",children:"Login"}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object(p.jsx)("input",{type:"email",id:"email_field",className:"form-control",value:a,onChange:function(e){return s(e.target.value)},required:!0})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"password_field",children:"Password"}),Object(p.jsx)("input",{type:"password",id:"password_field",className:"form-control",value:l,onChange:function(e){return b(e.target.value)},required:!0})]}),Object(p.jsx)(n.b,{to:"/forgotPassword",className:"float-right mb-4",children:"Forgot Password?"}),Object(p.jsx)("button",{id:"login_button",type:"submit",className:"btn btn-block py-3",disabled:N,children:N?Object(p.jsx)(ne.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}):"Login"}),Object(p.jsx)(n.b,{to:"/signup",className:"float-right mt-3",children:"New User?"})]})})})]})},Tt=c(23),Ut=function(){var e=Object(r.useState)({name:"",email:"",password:"",confirmPassword:""}),t=Object(u.a)(e,2),c=t[0],s=t[1],n=Object(r.useState)(""),o=Object(u.a)(n,2),i=o[0],l=o[1],b=Object(r.useState)("/images/default_avatar.png"),O=Object(u.a)(b,2),h=O[0],x=O[1],g=c.name,v=c.email,_=c.password,w=c.confirmPassword,S=Object(ie.d)(),R=Object(m.b)(),C=Object(m.c)((function(e){return e.authReducer})),P=C.loading,T=C.error,U=C.isAuthenticated;Object(r.useEffect)((function(){T&&(S.error(T),R(ae()))}),[U,T,S,R]);var A=function(e){if("avatar"===e.target.name){var t=new FileReader;t.onload=function(){2===t.readyState&&(x(t.result),l(t.result))},e.target.files[0]&&t.readAsDataURL(e.target.files[0])}else s((function(t){return Object(a.a)(Object(a.a)({},t),{},Object(Tt.a)({},e.target.name,e.target.value))}))};return Object(p.jsxs)(r.Fragment,{children:[Object(p.jsx)(He,{title:"Signup"}),Object(p.jsx)("div",{className:"row wrapper",children:Object(p.jsx)("div",{className:"col-10 col-lg-5",children:Object(p.jsxs)("form",{className:"shadow-lg",encType:"multipart/form-data",onSubmit:function(e){if(e.preventDefault(),_===w){var t,c=new FormData;c.set("name",g),c.set("email",v),c.set("password",_),c.set("avatar",i),R((t=c,function(){var e=Object(j.a)(d.a.mark((function e(c){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:y}),a={headers:{"Content-Type":"multipart/form-data"}},e.next=5,f.a.post("/api/v1/users/signup",t,a);case 5:r=e.sent,console.log(r),c({type:N,payload:r.data.user}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.response),c({type:E,payload:e.t0.response.data.message});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))}},children:[Object(p.jsx)("h1",{className:"mb-3",children:"Register"}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"name_field",children:"Name"}),Object(p.jsx)("input",{type:"name",id:"name_field",name:"name",className:"form-control",value:g,onChange:A,required:!0})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object(p.jsx)("input",{type:"email",id:"email_field",name:"email",className:"form-control",value:v,onChange:A,required:!0})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"password_field",children:"Password"}),Object(p.jsx)("input",{type:"password",id:"password_field",name:"password",className:"form-control",value:_,onChange:A,required:!0})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"conf_password_field",children:"Confirm Password"}),Object(p.jsx)("input",{type:"password",id:"conf_password_field",className:"form-control",name:"confirmPassword",value:w,onChange:A,required:!0})]}),_!==w&&Object(p.jsx)("p",{style:{fontSize:"15px",color:"red"},children:"Passwords do not match"}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"avatar_upload",children:"Avatar"}),Object(p.jsxs)("div",{className:"d-flex align-items-center",children:[Object(p.jsx)("div",{children:Object(p.jsx)("figure",{className:"avatar mr-3 item-rtl",children:Object(p.jsx)("img",{src:h,className:"rounded-circle",alt:"Avatar Preview"})})}),Object(p.jsxs)("div",{className:"custom-file",children:[Object(p.jsx)("input",{type:"file",name:"avatar",className:"custom-file-input",id:"customFile",accept:"images/*",onChange:A,required:!0}),Object(p.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:"Choose Avatar"})]})]})]}),Object(p.jsx)("button",{id:"register_button",type:"submit",className:"btn btn-block py-3",disabled:P,children:P?Object(p.jsx)(ne.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}):"Regiser"})]})})})]})},At=function(e){var t=new Date(e),c=""+(t.getMonth()+1),a=""+t.getDate(),r=t.getFullYear();return c.length<2&&(c="0"+c),a.length<2&&(a="0"+a),[r,c,a].join("-")},Dt=function(){var e=Object(m.c)((function(e){return e.authReducer})),t=e.user,c=e.loading,a=e.error;return c?Object(p.jsx)(Be,{}):a?Object(p.jsx)("h1",{children:"Error"}):Object(p.jsxs)("div",{children:[Object(p.jsxs)("h2",{className:"mt-5 ml-5",children:[t.name,"'s Profile"]}),Object(p.jsxs)("div",{className:"row justify-content-around mt-5 user-info",children:[Object(p.jsxs)("div",{className:"col-12 col-md-3",children:[Object(p.jsx)("figure",{className:"avatar avatar-profile",children:Object(p.jsx)("img",{className:"rounded-circle img-fluid",src:t.avatar.url,alt:t.name})}),Object(p.jsx)(n.b,{to:"/update/me",id:"edit_profile",className:"btn btn-primary btn-block my-5",children:"Edit Profile"})]}),Object(p.jsxs)("div",{className:"col-12 col-md-5",children:[Object(p.jsx)("h4",{children:"Full Name"}),Object(p.jsx)("p",{children:t.name}),Object(p.jsx)("h4",{children:"Email Address"}),Object(p.jsx)("p",{children:t.email}),Object(p.jsx)("h4",{children:"Joined On"}),Object(p.jsx)("p",{children:At(t.createdAt)}),"admin"!==t.role&&Object(p.jsx)(n.b,{to:"/orders/me",className:"btn btn-danger btn-block mt-5",children:"My Orders"}),Object(p.jsx)(n.b,{to:"/updatePassword/me",className:"btn btn-primary btn-block mt-3",children:"Change Password"})]})]})]})},It=c(101),Ft=["isAdmin","component"],Lt=function(e){var t=e.isAdmin,c=e.component,s=Object(It.a)(e,Ft),n=Object(m.c)((function(e){return e.authReducer})),o=n.isAuthenticated,i=n.loading,l=n.user;return Object(p.jsx)(r.Fragment,{children:!i&&Object(p.jsx)(b.b,Object(a.a)(Object(a.a)({},s),{},{render:function(e){return o?!0===t&&"admin"!==l.role?Object(p.jsx)(b.a,{to:"/"}):Object(p.jsx)(c,Object(a.a)({},e)):Object(p.jsx)(b.a,{to:"/login"})}}))})},kt=function(e){var t=e.history,c=Object(r.useState)({name:"",email:""}),s=Object(u.a)(c,2),n=s[0],o=s[1],i=Object(r.useState)(""),l=Object(u.a)(i,2),b=l[0],O=l[1],h=Object(r.useState)(""),x=Object(u.a)(h,2),g=x[0],v=x[1],y=Object(m.c)((function(e){return e.authReducer})).user,N=Object(m.c)((function(e){return e.user})),E=N.isUpdated,_=N.error,w=N.isLoading,S=Object(m.b)(),R=Object(ie.d)();Object(r.useEffect)((function(){y&&(o({name:y.name||"",email:y.email||""}),y.avatar&&v(y.avatar.url)),_&&(R.error(_),S(ae())),E&&(R.success("User updated Successfully"),S(re()),t.push("/me"),S({type:W}))}),[y,E,S,t,_,R]);var C=function(e){if("avatar"===e.target.name){var t=new FileReader;t.onload=function(){2===t.readyState&&(v(t.result),O(t.result))},e.target.files[0]&&t.readAsDataURL(e.target.files[0])}else o((function(t){return Object(a.a)(Object(a.a)({},t),{},Object(Tt.a)({},e.target.name,e.target.value))}))};return Object(p.jsxs)(r.Fragment,{children:[Object(p.jsx)(He,{title:"Update User"}),Object(p.jsx)("div",{className:"row wrapper",children:Object(p.jsx)("div",{className:"col-10 col-lg-5",children:Object(p.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,c=new FormData;c.set("name",n.name),c.set("email",n.email),c.set("avatar",b),S((t=c,function(){var e=Object(j.a)(d.a.mark((function e(c){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:Q}),a={headers:{"Content-Type":"multipart/form-data"}},e.next=5,f.a.patch("/api/v1/users/updateMe",t,a);case 5:r=e.sent,console.log(r),c({type:q,payload:r.data.success}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.response),c({type:V,payload:e.t0.response.data.message});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},encType:"multipart/form-data",children:[Object(p.jsx)("h1",{className:"mt-2 mb-5",children:"Update Profile"}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"email_field",children:"Name"}),Object(p.jsx)("input",{type:"name",id:"name_field",className:"form-control",name:"name",value:n.name,onChange:C})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object(p.jsx)("input",{type:"email",id:"email_field",className:"form-control",name:"email",value:n.email,onChange:C})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"avatar_upload",children:"Avatar"}),Object(p.jsxs)("div",{className:"d-flex align-items-center",children:[Object(p.jsx)("div",{children:Object(p.jsx)("figure",{className:"avatar mr-3 item-rtl",children:Object(p.jsx)("img",{src:g,className:"rounded-circle",alt:"Avatar Preview"})})}),Object(p.jsxs)("div",{className:"custom-file",children:[Object(p.jsx)("input",{type:"file",name:"avatar",className:"custom-file-input",id:"customFile",accept:"images/*",onChange:C}),Object(p.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:"Choose Avatar"})]})]})]}),Object(p.jsx)("button",{id:"register_button",type:"submit",className:"btn update-btn btn-block mt-4 mb-3",disabled:w,children:w?Object(p.jsx)(ne.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}):"Update"})]})})})]})},Mt=function(e){var t=e.history,c=Object(m.b)(),n=Object(m.c)((function(e){return e.user})),o=n.isLoading,i=n.isUpdated,l=n.error,b=Object(r.useState)({oldpassword:"",newPassword:"",confirmPassword:""}),O=Object(u.a)(b,2),h=O[0],x=O[1],g=h.oldpassword,v=h.newPassword,y=h.confirmPassword,N=Object(ie.d)();Object(r.useEffect)((function(){console.log("Hello"),l&&(N.error(l),c(ae()))}),[l,c,N]),Object(r.useEffect)((function(){console.log("from isUpdated"),i&&(N.success("Password updated Successfully"),c(re()),t.push("/me"),c({type:W}))}),[i,N,c,t]);var E=function(e){x((function(t){return Object(a.a)(Object(a.a)({},t),{},Object(Tt.a)({},e.target.name,e.target.value))}))};return Object(p.jsxs)(s.a.Fragment,{children:[Object(p.jsx)(He,{title:"Update Password"}),Object(p.jsx)("div",{className:"row wrapper",children:Object(p.jsx)("div",{className:"col-10 col-lg-5",children:Object(p.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){var t;(e.preventDefault(),v===y)&&c((t={currentPassword:g,newPassword:v},function(){var e=Object(j.a)(d.a.mark((function e(c){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:G}),a={headers:{"Content-Type":"application/json"}},e.next=5,f.a.patch("/api/v1/users/updateMyPassword",t,a);case 5:r=e.sent,console.log(r),c({type:z,payload:r.data.success}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.response),c({type:$,payload:e.t0.response.data.message});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(p.jsx)("h1",{className:"mt-2 mb-5",children:"Update Password"}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"old_password_field",children:"Old Password"}),Object(p.jsx)("input",{type:"password",id:"old_password_field",className:"form-control",name:"oldpassword",value:g,onChange:E,required:!0})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"new_password_field",children:"New Password"}),Object(p.jsx)("input",{type:"password",id:"new_password_field",className:"form-control",name:"newPassword",value:v,onChange:E,required:!0})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"confirm_password_field",children:"Confirm Password"}),Object(p.jsx)("input",{type:"password",id:"confirm_password_field",className:"form-control",name:"confirmPassword",value:y,onChange:E,required:!0})]}),v!==y&&Object(p.jsx)("p",{style:{fontSize:"15px",color:"red"},children:"Passwords do not match"}),Object(p.jsx)("button",{id:"register_button",type:"submit",className:"btn update-btn btn-block mt-4 mb-3",disabled:o,children:o?Object(p.jsx)(ne.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}):"Update Password"})]})})})]})},Qt=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),c=t[0],a=t[1],n=Object(m.b)(),o=Object(ie.d)(),i=Object(m.c)((function(e){return e.forgotAndResetPassword})),l=i.isLoading,b=i.error,O=i.message;Object(r.useEffect)((function(){b&&(o.error(b),n(ae()))}),[b,n,o]),Object(r.useEffect)((function(){O&&(o.success(O),n({type:W}))}),[O,o,n]);return Object(p.jsxs)(s.a.Fragment,{children:[Object(p.jsx)(He,{title:"Forgot Password"}),Object(p.jsx)("div",{className:"row wrapper",children:Object(p.jsx)("div",{className:"col-10 col-lg-5",children:Object(p.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){var t;e.preventDefault(),n((t={email:c},function(){var e=Object(j.a)(d.a.mark((function e(c){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:J}),a={headers:{"Content-Type":"application/json"}},e.next=5,f.a.post("/api/v1/users/forgotPassword",t,a);case 5:r=e.sent,console.log(r),c({type:K,payload:r.data.message}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.response),c({type:X,payload:e.t0.response.data.message});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(p.jsx)("h1",{className:"mb-3",children:"Forgot Password"}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"email_field",children:"Enter Email"}),Object(p.jsx)("input",{type:"email",id:"email_field",className:"form-control",value:c,onChange:function(e){return a(e.target.value)},required:!0})]}),Object(p.jsx)("button",{id:"login_button",type:"submit",className:"btn btn-block py-3",disabled:l,children:l?Object(p.jsx)(ne.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}):"Send Email"})]})})})]})},qt=function(){var e=Object(r.useState)({newPassword:"",confirmPassword:""}),t=Object(u.a)(e,2),c=t[0],n=t[1],o=Object(b.g)().token,i=Object(b.f)(),l=c.newPassword,O=c.confirmPassword,h=Object(ie.d)(),x=Object(m.b)(),g=Object(m.c)((function(e){return e.forgotAndResetPassword})),v=g.isLoading,y=g.error,N=g.message;Object(r.useEffect)((function(){y&&(h.error(y),x(ae()))}),[y,x,h]),Object(r.useEffect)((function(){N&&(h.success("PASSWORD UPDATED SUCCESSFULLY"),x({type:W}),i.push("/login"))}),[N,h,x,i]);var E=function(e){n((function(t){return Object(a.a)(Object(a.a)({},t),{},Object(Tt.a)({},e.target.name,e.target.value))}))};return Object(p.jsxs)(s.a.Fragment,{children:[Object(p.jsx)(He,{title:"ResetPassword"}),Object(p.jsx)("div",{className:"row wrapper",children:Object(p.jsx)("div",{className:"col-10 col-lg-5",children:Object(p.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault(),l===O&&(console.log(o),x(function(e,t){return function(){var c=Object(j.a)(d.a.mark((function c(a){var r,s;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,a({type:Z}),r={headers:{"Content-Type":"application/json"}},c.next=5,f.a.patch("/api/v1/users/resetPassword/".concat(t),e,r);case 5:s=c.sent,console.log(s),a({type:ee,payload:s.data.success}),c.next=14;break;case 10:c.prev=10,c.t0=c.catch(0),console.log(c.t0.response),a({type:te,payload:c.t0.response.data.message});case 14:case"end":return c.stop()}}),c,null,[[0,10]])})));return function(e){return c.apply(this,arguments)}}()}({password:l,confirmPassword:O},o)))},children:[Object(p.jsx)("h1",{className:"mb-3",children:"New Password"}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"password_field",children:"Password"}),Object(p.jsx)("input",{type:"password",id:"password_field",className:"form-control",name:"newPassword",value:l,onChange:E})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"confirm_password_field",children:"Confirm Password"}),Object(p.jsx)("input",{type:"password",id:"confirm_password_field",className:"form-control",value:O,name:"confirmPassword",onChange:E})]}),l!==O&&Object(p.jsx)("p",{style:{fontSize:"15px",color:"red"},children:"Passwords do not match"}),Object(p.jsx)("button",{id:"register_button",type:"submit",className:"btn update-btn btn-block mt-4 mb-3",disabled:v,children:v?Object(p.jsx)(ne.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}):"Set Password"})]})})})]})},Wt="CREATE_ORDER_REQUEST",Vt="CREATE_ORDER_SUCCESS",Gt="CREATE_ORDER_FAIL",zt="GET_MY_ORDERS_REQUEST",$t="GET_MY_ORDERS_SUCCESS",Ht="GET_MY_ORDERS_FAIL",Yt="ALL_ORDERS_REQUEST",Bt="ALL_ORDERS_SUCCESS",Jt="ALL_ORDERS_FAIL",Kt="ORDER_DETAILS_REQUEST",Xt="ORDER_DETAILS_SUCCESS",Zt="ORDER_DETAILS_FAIL",ec="UPDATE_ORDER_REQUEST",tc="UPDATE_ORDER_SUCCESS",cc="UPDATE_ORDER_FAIL",ac="UPDATE_ORDER_RESET",rc="DELETE_ORDER_REQUEST",sc="DELETE_ORDER_SUCCESS",nc="DELETE_ORDER_FAIL",oc="DELETE_ORDER_RESET",ic="CLEAR_ERRORS",lc=function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:ic});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},dc=function(e){return function(){var t=Object(j.a)(d.a.mark((function t(c){var a,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:Wt}),a={headers:{"Content-Type":"application/json"}},t.next=5,f.a.post("/api/v1/orders",e,a);case 5:r=t.sent,c({type:Vt,payload:r.data}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:Vt,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},jc=function(e){return function(){var t=Object(j.a)(d.a.mark((function t(c){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:Kt}),t.next=4,f.a.get("/api/v1/orders/".concat(e));case 4:a=t.sent,c({type:Xt,payload:a.data.order}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),c({type:Ht,payload:t.t0.response.data.message});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},uc=function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Yt}),e.next=4,f.a.get("/api/v1/orders");case 4:c=e.sent,t({type:Bt,payload:{orders:c.data.orders,totalAmount:c.data.totalOrdersAmount}}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:Jt,payload:e.t0.response.data.message});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},bc=function(){return Object(p.jsx)("div",{className:"sidebar-wrapper",children:Object(p.jsx)("nav",{id:"sidebar",children:Object(p.jsxs)("ul",{className:"list-unstyled components",children:[Object(p.jsx)("li",{children:Object(p.jsxs)(n.b,{to:"/dashboard",children:[Object(p.jsx)("i",{className:"fa fa-tachometer"})," Dashboard"]})}),Object(p.jsxs)("li",{children:[Object(p.jsxs)("a",{href:"#productSubmenu","data-toggle":"collapse","aria-expanded":"false",className:"dropdown-toggle",children:[Object(p.jsx)("i",{className:"fa fa-product-hunt"})," Products"]}),Object(p.jsxs)("ul",{className:"collapse list-unstyled",id:"productSubmenu",children:[Object(p.jsx)("li",{children:Object(p.jsxs)(n.b,{to:"/admin/products",children:[Object(p.jsx)("i",{className:"fa fa-clipboard"})," All"]})}),Object(p.jsx)("li",{children:Object(p.jsxs)(n.b,{to:"/admin/createProduct",children:[Object(p.jsx)("i",{className:"fa fa-plus"})," Create"]})})]})]}),Object(p.jsx)("li",{children:Object(p.jsxs)(n.b,{to:"/admin/orders",children:[Object(p.jsx)("i",{className:"fa fa-shopping-basket"})," Orders"]})}),Object(p.jsx)("li",{children:Object(p.jsxs)(n.b,{to:"/admin/users",children:[Object(p.jsx)("i",{className:"fa fa-users"})," Users"]})}),Object(p.jsx)("li",{children:Object(p.jsxs)(n.b,{to:"/admin/reviews",children:[Object(p.jsx)("i",{className:"fa fa-star"})," Reviews"]})})]})})})},mc=function(){var e=Object(m.c)((function(e){return e.products})),t=e.loading,c=e.products,a=Object(m.c)((function(e){return e.allUsers})),s=a.loading,o=a.usersLength,i=Object(m.c)((function(e){return e.allOrders})),l=i.loading,d=i.totalAmount,j=i.ordersLength,u=Object(m.b)();Object(r.useEffect)((function(){u({type:"CLEAR_PRODUCTS"}),u(ze())}),[u]),Object(r.useEffect)((function(){u(uc()),u(se())}),[u]);var b=t?Object(p.jsx)(oe,{}):c?c.length:"No products",O=0;c&&c.forEach((function(e){0===e.stock&&(console.log("Out"),O+=1)}));var h=t?Object(p.jsx)(oe,{}):O||0,f=l?Object(p.jsx)(oe,{}):j,x=s?Object(p.jsx)(oe,{}):o,g=l?Object(p.jsx)(oe,{}):d&&d.toFixed(2);return Object(p.jsx)(r.Fragment,{children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-12 col-md-2",children:Object(p.jsx)(bc,{})}),Object(p.jsxs)("div",{className:"col-12 col-md-10",children:[Object(p.jsx)("h1",{className:"my-4",children:"Dashboard"}),Object(p.jsx)("div",{className:"row pr-4",children:Object(p.jsx)("div",{className:"col-xl-12 col-sm-12 mb-3",children:Object(p.jsx)("div",{className:"card text-white bg-primary o-hidden h-100",children:Object(p.jsx)("div",{className:"card-body",children:Object(p.jsxs)("div",{className:"text-center card-font-size",children:["Total Amount",Object(p.jsx)("br",{})," ",Object(p.jsx)("b",{children:g})]})})})})}),Object(p.jsxs)("div",{className:"row pr-4",children:[Object(p.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:Object(p.jsxs)("div",{className:"card text-white bg-success o-hidden h-100",children:[Object(p.jsx)("div",{className:"card-body",children:Object(p.jsxs)("div",{className:"text-center card-font-size",children:["Products",Object(p.jsx)("br",{})," ",Object(p.jsx)("b",{children:b})]})}),Object(p.jsxs)(n.b,{className:"card-footer text-white clearfix small z-1",to:"/admin/products",children:[Object(p.jsx)("span",{className:"float-left",children:"View Details"}),Object(p.jsx)("span",{className:"float-right",children:Object(p.jsx)("i",{className:"fa fa-angle-right"})})]})]})}),Object(p.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:Object(p.jsxs)("div",{className:"card text-white bg-danger o-hidden h-100",children:[Object(p.jsx)("div",{className:"card-body",children:Object(p.jsxs)("div",{className:"text-center card-font-size",children:["Orders",Object(p.jsx)("br",{})," ",Object(p.jsx)("b",{children:f})]})}),Object(p.jsxs)(n.b,{className:"card-footer text-white clearfix small z-1",to:"/admin/orders",children:[Object(p.jsx)("span",{className:"float-left",children:"View Details"}),Object(p.jsx)("span",{className:"float-right",children:Object(p.jsx)("i",{className:"fa fa-angle-right"})})]})]})}),Object(p.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:Object(p.jsxs)("div",{className:"card text-white bg-info o-hidden h-100",children:[Object(p.jsx)("div",{className:"card-body",children:Object(p.jsxs)("div",{className:"text-center card-font-size",children:["Users",Object(p.jsx)("br",{})," ",Object(p.jsx)("b",{children:x})]})}),Object(p.jsxs)(n.b,{className:"card-footer text-white clearfix small z-1",to:"/admin/users",children:[Object(p.jsx)("span",{className:"float-left",children:"View Details"}),Object(p.jsx)("span",{className:"float-right",children:Object(p.jsx)("i",{className:"fa fa-angle-right"})})]})]})}),Object(p.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:Object(p.jsx)("div",{className:"card text-white bg-warning o-hidden h-100",children:Object(p.jsx)("div",{className:"card-body",children:Object(p.jsxs)("div",{className:"text-center card-font-size",children:["Out of Stock",Object(p.jsx)("br",{})," ",Object(p.jsx)("b",{children:h})]})})})})]})]})]})})},pc=c(27),Oc=function(e){var t=e.products,c=Object(m.b)(),a=Object(m.c)((function(e){return e.deleteProduct})),s=a.loading,o=a.error,i=Object(ie.d)(),l=Object(b.f)();Object(r.useEffect)((function(){console.log("Error"),o&&(i.error(o),c(Ve()))}),[o,c,i,l]);var u=function(e){c(function(e){return function(){var t=Object(j.a)(d.a.mark((function t(c){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:ye}),t.next=4,f.a.delete("/api/v1/products/".concat(e));case 4:a=t.sent,c({type:Ne,payload:a.data.success}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0.response.data.message),c({type:Ee,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(p.jsx)(pc.c,{data:function(){var e={columns:[{label:"ID",field:"id",sort:"asc"},{label:"Name",field:"name",sort:"asc"},{label:"Price",field:"price",sort:"asc"},{label:"Stock",field:"stock",sort:"asc"},{label:"Actions",field:"actions"}],rows:[]};return t.forEach((function(t){e.rows.push({id:Object(p.jsx)(n.b,{to:"/product/".concat(t._id),children:t._id}),name:t.name,price:"$".concat(t.price),stock:t.stock,actions:Object(p.jsxs)(r.Fragment,{children:[Object(p.jsx)(n.b,{to:"/admin/products/".concat(t._id),className:"btn btn-primary py-1 px-2 ",children:Object(p.jsx)("i",{className:"fa fa-pencil"})}),Object(p.jsx)("button",{className:"btn btn-danger py-1 px-2 ml-2",disabled:s,onClick:function(){return u(t._id)},children:s?Object(p.jsx)(oe,{}):Object(p.jsx)("i",{className:"fa fa-trash"})})]})})})),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0})},hc=function(){var e=Object(m.c)((function(e){return e.products})),t=e.loading,c=e.error,a=e.products,s=Object(m.c)((function(e){return e.deleteProduct})).isDeleted,n=Object(m.b)(),o=Object(ie.d)();return Object(r.useEffect)((function(){n(ze())}),[n]),Object(r.useEffect)((function(){s&&(o.success("product deleted successfully!"),n(ze()),n({type:_e}))}),[s,n,o]),Object(r.useEffect)((function(){if(c)return o.error(c),n(Ve())}),[c,n,o]),Object(p.jsxs)(r.Fragment,{children:[Object(p.jsx)(He,{title:"All Products"}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-12 col-md-2",children:Object(p.jsx)(bc,{})}),Object(p.jsx)("div",{className:"col-12 col-md-10",children:Object(p.jsxs)(r.Fragment,{children:[Object(p.jsx)("h1",{className:"my-5",children:"All Products"}),t?Object(p.jsx)(Be,{}):Object(p.jsx)(Oc,{products:a})]})})]})]})},fc=c(37),xc=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),c=t[0],a=t[1],n=Object(r.useState)(""),o=Object(u.a)(n,2),i=o[0],l=o[1],O=Object(r.useState)(""),h=Object(u.a)(O,2),x=h[0],g=h[1],v=Object(r.useState)(""),y=Object(u.a)(v,2),N=y[0],E=y[1],_=Object(r.useState)(""),w=Object(u.a)(_,2),S=w[0],R=w[1],C=Object(r.useState)(""),P=Object(u.a)(C,2),T=P[0],U=P[1],A=Object(r.useState)([]),D=Object(u.a)(A,2),I=D[0],F=D[1],L=Object(r.useState)([]),k=Object(u.a)(L,2),M=k[0],Q=k[1],q=Object(m.b)(),W=Object(m.c)((function(e){return e.newProduct})),V=W.loading,G=W.error,z=W.success,$=Object(b.f)(),H=Object(ie.d)();Object(r.useEffect)((function(){G&&(H.error(G),q(ae())),z&&($.push("/admin/products"),H.success("Product created successfully"),q({type:Ue}))}),[q,H,G,z,$]);return Object(p.jsxs)(s.a.Fragment,{children:[Object(p.jsx)(He,{title:"New Product"}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-12 col-md-2",children:Object(p.jsx)(bc,{})}),Object(p.jsx)("div",{className:"col-12 col-md-10",children:Object(p.jsx)(s.a.Fragment,{children:Object(p.jsx)("div",{className:"wrapper my-5",children:Object(p.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault(),e.preventDefault();var t,a=new FormData;a.set("name",c),a.set("price",+i),a.set("description",x),a.set("category",N),a.set("stock",+S),a.set("seller",T),console.log(typeof+i,+i),console.log(typeof+S,+S),I.forEach((function(e){a.append("images",e)})),q((t=a,function(){var e=Object(j.a)(d.a.mark((function e(c){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:Pe}),a={headers:{"Content-Type":"multipart/form-data"}},e.next=5,f.a.post("/api/v1/products/",t,a);case 5:r=e.sent,c({type:Te,payload:r.data}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.response.data.message),c({type:Ae,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()))},encType:"multipart/form-data",children:[Object(p.jsx)("h1",{className:"mb-4",children:"Create Product"}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"name_field",children:"Name"}),Object(p.jsx)("input",{type:"text",id:"name_field",className:"form-control",value:c,onChange:function(e){return a(e.target.value)},required:!0})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"price_field",children:"Price"}),Object(p.jsx)("input",{type:"number",id:"price_field",className:"form-control",value:i,onChange:function(e){return l(e.target.value)},required:!0})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"description_field",children:"Description"}),Object(p.jsx)("textarea",{className:"form-control",id:"description_field",rows:"8",value:x,required:!0,onChange:function(e){return g(e.target.value)}})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"category_field",children:"Category"}),Object(p.jsx)("select",{className:"form-control",id:"category_field",value:N,onChange:function(e){return E(e.target.value)},children:["Electronics","Cameras","Laptops","Accessories","Headphones","Food","Books","Clothes/Shoes","Beauty/Health","Sports","Outdoor","Home"].map((function(e){return Object(p.jsx)("option",{value:e,children:e},e)}))})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"stock_field",children:"Stock"}),Object(p.jsx)("input",{type:"number",id:"stock_field",className:"form-control",value:S,onChange:function(e){return R(e.target.value)},required:!0})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"seller_field",children:"Seller Name"}),Object(p.jsx)("input",{type:"text",id:"seller_field",className:"form-control",value:T,onChange:function(e){return U(e.target.value)},required:!0})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"Images"}),Object(p.jsxs)("div",{className:"custom-file",children:[Object(p.jsx)("input",{type:"file",name:"product_images",className:"custom-file-input",id:"customFile",multiple:!0,onChange:function(e){var t=Array.from(e.target.files);Q([]),F([]),t.forEach((function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&(Q((function(e){return[].concat(Object(fc.a)(e),[t.result])})),F((function(e){return[].concat(Object(fc.a)(e),[t.result])})))},t.readAsDataURL(e)}))},required:!0}),Object(p.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:"Choose Images"})]}),M.map((function(e){return Object(p.jsx)("img",{src:e,alt:"Images Preview",className:"mt-3 mr-2",width:"80",height:"80",style:{borderRadius:"10px"}},e)}))]}),Object(p.jsx)("button",{id:"login_button",type:"submit",className:"btn btn-block py-3",disabled:V,children:V?Object(p.jsx)(oe,{}):"Create"})]})})})})]})]})},gc=function(e){var t=e.product,c=Object(m.b)(),n=Object(m.c)((function(e){return e.updateProduct})),o=n.error,i=n.isUpdated,l=n.loading,O=Object(ie.d)(),h=Object(b.f)(),x=Object(r.useState)({name:t.name||"",price:t.price||"",description:t.description||"",category:t.category||"",stock:t.stock||"",seller:t.seller||"",oldImages:t.images||[]}),g=Object(u.a)(x,2),v=g[0],y=g[1],N=Object(r.useState)([]),E=Object(u.a)(N,2),_=E[0],w=E[1],S=Object(r.useState)([]),R=Object(u.a)(S,2),C=R[0],P=R[1],T=v.name,U=v.price,A=v.description,D=v.category,I=v.stock,F=v.seller,L=v.oldImages;Object(r.useEffect)((function(){o&&(O.error(o),c(Ve()))}),[O,c,o]),Object(r.useEffect)((function(){i&&(h.push("/admin/products"),O.success("Product updated successfully!"),c({type:Ce}))}),[i,h,c,O]);var k=function(e){y((function(t){return Object(a.a)(Object(a.a)({},t),{},Object(Tt.a)({},e.target.name,e.target.value))}))};return Object(p.jsx)(s.a.Fragment,{children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-12 col-md-2",children:Object(p.jsx)(bc,{})}),Object(p.jsx)("div",{className:"col-12 col-md-10",children:Object(p.jsx)(s.a.Fragment,{children:Object(p.jsx)("div",{className:"wrapper my-5",children:Object(p.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var a,r,s=new FormData;s.set("name",T),s.set("price",+U),s.set("description",A),s.set("category",D),s.set("stock",+I),s.set("seller",F),_.forEach((function(e){s.append("images",e)})),c((a=t._id,r=s,function(){var e=Object(j.a)(d.a.mark((function e(t){var c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:we}),c={headers:{"Content-Type":"multipart/form-data"}},e.next=5,f.a.patch("/api/v1/products/".concat(a),r,c);case 5:s=e.sent,t({type:Se,payload:s.data.success}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.response.data.message),t({type:Re,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()))},encType:"multipart/form-data",children:[Object(p.jsx)("h1",{className:"mb-4",children:"Update Product"}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"name_field",children:"Name"}),Object(p.jsx)("input",{type:"text",id:"name_field",className:"form-control",value:T,name:"name",onChange:k,required:!0})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"price_field",children:"Price"}),Object(p.jsx)("input",{type:"number",id:"price_field",className:"form-control",value:U,name:"price",onChange:k,required:!0})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"description_field",children:"Description"}),Object(p.jsx)("textarea",{className:"form-control",id:"description_field",rows:"8",value:A,name:"description",required:!0,onChange:k})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"category_field",children:"Category"}),Object(p.jsx)("select",{className:"form-control",id:"category_field",value:D,name:"category",onChange:k,children:["Electronics","Cameras","Laptops","Accessories","Headphones","Food","Books","Clothes/Shoes","Beauty/Health","Sports","Outdoor","Home"].map((function(e){return Object(p.jsx)("option",{value:e,children:e},e)}))})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"stock_field",children:"Stock"}),Object(p.jsx)("input",{type:"number",id:"stock_field",className:"form-control",value:I,name:"stock",onChange:k,required:!0})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"seller_field",children:"Seller Name"}),Object(p.jsx)("input",{type:"text",id:"seller_field",className:"form-control",value:F,name:"seller",onChange:k,required:!0})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"Images"}),Object(p.jsxs)("div",{className:"custom-file",children:[Object(p.jsx)("input",{type:"file",name:"product_images",className:"custom-file-input",id:"customFile",multiple:!0,onChange:function(e){var t=Array.from(e.target.files);P([]),w([]),y((function(e){return Object(a.a)(Object(a.a)({},e),{},{oldImages:[]})})),t.forEach((function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&(P((function(e){return[].concat(Object(fc.a)(e),[t.result])})),w((function(e){return[].concat(Object(fc.a)(e),[t.result])})))},t.readAsDataURL(e)}))}}),Object(p.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:"Choose Images"})]}),L&&L.map((function(e){return Object(p.jsx)("img",{src:e.url,alt:e.url,className:"mt-2 mr-2",width:"80",height:"80",style:{borderRadius:"10px"}},e.url)})),C.map((function(e){return Object(p.jsx)("img",{src:e,alt:"Images Preview",className:"mt-3 mr-2",width:"80",height:"80",style:{borderRadius:"10px"}},e)}))]}),Object(p.jsx)("button",{id:"login_button",type:"submit",className:"btn btn-block py-3",disabled:l,children:l?Object(p.jsx)(oe,{}):"Update Product"})]})})})})]})})},vc=function(){var e=Object(b.g)().id,t=Object(ie.d)(),c=Object(m.c)((function(e){return e.productDetails})),a=c.product,n=c.error,o=c.loading,i=Object(m.b)();return Object(r.useEffect)((function(){n&&(t.error(n),i(Ve()),i({type:We}))}),[n,t,i]),Object(r.useEffect)((function(){i(Ge(e))}),[i,e]),Object(p.jsxs)(s.a.Fragment,{children:[Object(p.jsx)(He,{title:"New Product"}),o?Object(p.jsx)(Be,{}):Object(p.jsx)(gc,{product:a||{}})]})},yc=function(e){var t=e.cartId,c=Object(ie.d)(),a=Object(m.b)(),s=Object(m.c)((function(e){return e.deleteCartItem})),n=(s.cartLoading,s.success),o=s.error;return Object(r.useEffect)((function(){o&&(c.error(o),a(ft()))}),[o,a,c]),Object(r.useEffect)((function(){n&&(c.success("Item Removed!"),a({type:Ot}),a(xt()))}),[n,a,c]),Object(p.jsx)("div",{className:"col-4 col-lg-1 mt-4 mt-lg-0",children:Object(p.jsx)("i",{id:"delete_cart_item",className:"fa fa-trash btn btn-danger",onClick:function(){var e;a((e=t,function(){var t=Object(j.a)(d.a.mark((function t(c){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:ut}),t.next=4,f.a.delete("/api/v1/cart/me/".concat(e));case 4:a=t.sent,console.log(a.data),c({type:bt}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:mt,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()))}})})},Nc=function(e){var t=e.product,c=e.totalPrice,a=e.totalQuantity,s=e.cartId,o=Object(m.b)(),i=Object(ie.d)(),l=Object(m.c)((function(e){return e.cartActionsReducer})),u=l.cartLoading,b=l.error;Object(r.useEffect)((function(){b&&(i.error(b),o(ft()))}),[b,o,i]);return Object(p.jsxs)("div",{className:"col-12 col-lg-8",children:[Object(p.jsx)("hr",{}),Object(p.jsx)("div",{className:"cart-item",children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-4 col-lg-3",children:Object(p.jsx)(n.b,{to:"/product/".concat(t._id),children:Object(p.jsx)("img",{src:t.images[0].url,alt:"Laptop",height:"90",width:"115"})})}),Object(p.jsx)("div",{className:"col-5 col-lg-3",children:Object(p.jsx)(n.b,{to:"/product/".concat(t._id),children:t.name})}),Object(p.jsx)("div",{className:"col-4 col-lg-2 mt-4 mt-lg-0",children:Object(p.jsx)("p",{id:"card_item_price",children:u?Object(p.jsx)(oe,{}):"$".concat(c)})}),u?Object(p.jsx)(oe,{}):Object(p.jsx)("div",{className:"col-4 col-lg-3 mt-4 mt-lg-0",children:Object(p.jsxs)("div",{className:"stockCounter d-inline",children:[Object(p.jsx)("button",{className:"btn btn-danger minus",onClick:function(){var e,c;o((e=t._id,c=a-1,function(){var t=Object(j.a)(d.a.mark((function t(a){var r,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:lt}),r={headers:{"Content-Type":"application/json"}},t.next=5,f.a.post("/api/v1/cart/".concat(e),{totalQuantity:c},r);case 5:s=t.sent,console.log(s.data),a({type:dt}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a({type:jt,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()))},disabled:1===a,children:"-"}),Object(p.jsx)("input",{type:"number",className:"form-control count d-inline",value:a,readOnly:!0}),Object(p.jsx)("button",{className:"btn btn-primary plus",onClick:function(){o(gt(t._id,a+1))},children:"+"})]})}),Object(p.jsx)(yc,{cartId:s})]})}),Object(p.jsx)("hr",{})]})},Ec=function(){return Object(p.jsxs)("div",{className:"col-12 col-lg-8",children:[Object(p.jsx)("hr",{}),Object(p.jsx)("h3",{children:"Product no longer exists"}),Object(p.jsx)("hr",{})]})},_c=function(e){var t=e.cart,c=e.cartId;return console.log(t),t.product?Object(p.jsx)(Nc,{product:t.product,totalPrice:t.totalPrice,totalQuantity:t.totalQuantity,cartId:c}):Object(p.jsx)(Ec,{})},wc=function(e){var t=e.history,c=Object(m.c)((function(e){return e.cartReducer})),a=c.cartItems,s=c.cartLoading,n=c.cartTotalPrice,o=c.cartTotalQuantity,i=c.error,l=Object(m.c)((function(e){return e.cartActionsReducer})),d=l.cartLoading,j=l.success,u=l.message,b=Object(m.b)(),O=Object(ie.d)();return Object(r.useEffect)((function(){b(xt())}),[b]),Object(r.useEffect)((function(){i&&(O.error(i),b(ft()))}),[i,b,O]),Object(r.useEffect)((function(){j&&(O.success(u),b(xt()),b({type:Ot}))}),[j,O,b,u]),Object(p.jsx)(r.Fragment,{children:s?Object(p.jsx)(Be,{}):Object(p.jsxs)(r.Fragment,{children:[Object(p.jsx)("h2",{className:"mt-5",children:0===a.length?"Your cart is empty":"Your Cart:".concat(a.length," items")}),Object(p.jsxs)("div",{className:"row d-flex justify-content-between",children:[a.map((function(e){return Object(p.jsx)(_c,{cartId:e._id,cart:e},e._id)})),Object(p.jsx)("div",{className:"col-12 col-lg-3 my-4",children:Object(p.jsxs)("div",{id:"order_summary",children:[Object(p.jsx)("h4",{children:"Order Summary"}),Object(p.jsx)("hr",{}),Object(p.jsxs)("p",{children:["Subtotal:"," ",Object(p.jsxs)("span",{className:"order-summary-values",children:[d?Object(p.jsx)(oe,{}):o," (Units)"]})]}),Object(p.jsxs)("p",{children:["Est. total:"," ",Object(p.jsx)("span",{className:"order-summary-values",children:d?Object(p.jsx)(oe,{}):"$".concat(n.toFixed(2))})]}),Object(p.jsx)("hr",{}),Object(p.jsx)("button",{id:"checkout_btn",className:"btn btn-primary btn-block",onClick:function(){return t.push("/shipping")},children:"Check out"})]})})]})]})})},Sc=function(e){var t=e.shipping,c=e.confirmOrder,a=e.payment;return Object(p.jsxs)("div",{className:"checkout-progress d-flex justify-content-center mt-5",children:[t?Object(p.jsxs)(n.b,{to:"shipping",className:"float-right",children:[Object(p.jsx)("div",{className:"triangle2-active"}),Object(p.jsx)("div",{className:"step active-step",children:"Shipping"}),Object(p.jsx)("div",{className:"triangle-active"})]}):Object(p.jsxs)(n.b,{to:"#!",disabled:!0,children:[Object(p.jsx)("div",{className:"triangle2-incomplete"}),Object(p.jsx)("div",{className:"step incomplete",children:"Shipping"}),Object(p.jsx)("div",{className:"triangle-incomplete"})]}),c?Object(p.jsxs)(n.b,{to:"/confirm",className:"float-right",children:[Object(p.jsx)("div",{className:"triangle2-active"}),Object(p.jsx)("div",{className:"step active-step",children:"Confirm Order"}),Object(p.jsx)("div",{className:"triangle-active"})]}):Object(p.jsxs)(n.b,{to:"#!",disabled:!0,children:[Object(p.jsx)("div",{className:"triangle2-incomplete"}),Object(p.jsx)("div",{className:"step incomplete",children:"Confirm Order"}),Object(p.jsx)("div",{className:"triangle-incomplete"})]}),a?Object(p.jsxs)(n.b,{to:"/payment",className:"float-right",children:[Object(p.jsx)("div",{className:"triangle2-active"}),Object(p.jsx)("div",{className:"step active-step",children:"Payment"}),Object(p.jsx)("div",{className:"triangle-active"})]}):Object(p.jsxs)(n.b,{to:"#!",disabled:!0,children:[Object(p.jsx)("div",{className:"triangle2-incomplete"}),Object(p.jsx)("div",{className:"step incomplete",children:"Payment"}),Object(p.jsx)("div",{className:"triangle-incomplete"})]})]})},Rc=c(95),Cc=function(e){var t=e.history,c=Object(m.c)((function(e){return e.cartReducer})).shippingInfo,s=Object(m.b)(),n=Object.values(Rc.countries),o=Object(r.useState)({address:c.address||"",postalCode:c.postalCode||"",city:c.city||"",phoneNumber:c.phoneNumber||"",country:c.country||""}),i=Object(u.a)(o,2),l=i[0],b=i[1],O=l.address,h=l.postalCode,f=l.city,x=l.phoneNumber,g=l.country,v=function(e){b((function(t){return Object(a.a)(Object(a.a)({},t),{},Object(Tt.a)({},e.target.name,e.target.value))}))};return Object(p.jsxs)(r.Fragment,{children:[Object(p.jsx)(He,{title:"Shipping"}),Object(p.jsx)(Sc,{shipping:!0}),Object(p.jsx)("div",{className:"row wrapper",children:Object(p.jsx)("div",{className:"col-10 col-lg-5",children:Object(p.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){var c;e.preventDefault(),s((c={address:O,postalCode:h,city:f,phoneNumber:x,country:g},function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:pt,payload:c}),localStorage.setItem("shippingInfo",JSON.stringify(c));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),t.push("/confirm")},children:[Object(p.jsx)("h1",{className:"mb-4",children:"Shipping Info"}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"address_field",children:"Address"}),Object(p.jsx)("input",{type:"text",id:"address_field",className:"form-control",value:O,name:"address",onChange:v,required:!0})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"city_field",children:"City"}),Object(p.jsx)("input",{type:"text",id:"city_field",className:"form-control",value:f,name:"city",onChange:v,required:!0})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"phone_field",children:"Phone No"}),Object(p.jsx)("input",{type:"phone",id:"phone_field",className:"form-control",value:x,onChange:v,name:"phoneNumber",required:!0})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"postal_code_field",children:"Postal Code"}),Object(p.jsx)("input",{type:"number",id:"postal_code_field",className:"form-control",value:h,onChange:v,name:"postalCode",required:!0})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"country_field",children:"Country"}),Object(p.jsx)("select",{id:"country_field",className:"form-control",value:g,name:"country",onChange:v,required:!0,children:n.map((function(e){return Object(p.jsx)("option",{value:e.name,children:e.name},e.name)}))})]}),Object(p.jsx)("button",{id:"shipping_btn",type:"submit",className:"btn btn-block py-3",children:"CONTINUE"})]})})})]})},Pc=function(){var e=Object(m.c)((function(e){return e.authReducer})).user,t=Object(b.f)(),c=Object(m.c)((function(e){return e.cartReducer})),a=c.shippingInfo,r=c.cartItems,s=c.cartTotalPrice,o=s>200?25:0,i=Number((.05*s).toFixed(2));return Object(p.jsxs)("div",{className:"row d-flex justify-content-between",children:[Object(p.jsxs)("div",{className:"col-12 col-lg-8 mt-5 order-confirm",children:[Object(p.jsx)("h4",{className:"mb-3",children:"Shipping Info"}),Object(p.jsxs)("p",{children:[Object(p.jsx)("b",{children:"Name:"})," ",e.name]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("b",{children:"Phone:"})," ",a.phoneNumber]}),Object(p.jsxs)("p",{className:"mb-4",children:[Object(p.jsx)("b",{children:"Address:"}),"".concat(a.address,", ").concat(a.city,", ").concat(a.country,", ").concat(a.postalCode)]}),Object(p.jsx)("hr",{}),Object(p.jsx)("h4",{className:"mt-4",children:"Your Cart Items:"}),Object(p.jsx)("hr",{}),r.map((function(e){return Object(p.jsx)("div",{className:"cart-item my-1",children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-4 col-lg-2",children:Object(p.jsx)("img",{src:e.product.images[0].url,alt:"Laptop",height:"45",width:"65"})}),Object(p.jsx)("div",{className:"col-5 col-lg-6",children:Object(p.jsx)(n.b,{to:"/product/".concat(e.product._id),children:e.product.name})}),Object(p.jsx)("div",{className:"col-4 col-lg-4 mt-4 mt-lg-0",children:Object(p.jsxs)("p",{children:[e.totalQuantity," x $",e.product.price," ="," ",Object(p.jsxs)("b",{children:["$",e.totalPrice]})]})})]})},e._id)})),Object(p.jsx)("hr",{})]}),Object(p.jsx)("div",{className:"col-12 col-lg-3 my-4",children:Object(p.jsxs)("div",{id:"order_summary",children:[Object(p.jsx)("h4",{children:"Order Summary"}),Object(p.jsx)("hr",{}),Object(p.jsxs)("p",{children:["Subtotal:"," ",Object(p.jsxs)("span",{className:"order-summary-values",children:["$",s]})]}),Object(p.jsxs)("p",{children:["Shipping:"," ",Object(p.jsxs)("span",{className:"order-summary-values",children:["$",o]})]}),Object(p.jsxs)("p",{children:["Tax: ",Object(p.jsxs)("span",{className:"order-summary-values",children:["$",i]})]}),Object(p.jsx)("hr",{}),Object(p.jsxs)("p",{children:["Total:"," ",Object(p.jsxs)("span",{className:"order-summary-values",children:["$",s+o+i]})]}),Object(p.jsx)("hr",{}),Object(p.jsx)("button",{id:"checkout_btn",className:"btn btn-primary btn-block",onClick:function(){return t.push("/payment")},children:"Proceed to Payment"})]})})]})},Tc=function(){return Object(p.jsxs)(r.Fragment,{children:[Object(p.jsx)(He,{title:"Confirm Order"}),Object(p.jsx)(Sc,{shipping:!0,confirmOrder:!0}),Object(p.jsx)(Pc,{})]})},Uc=c(28),Ac={style:{base:{fontSize:"16px"},invalid:{color:"#9e2146"}}},Dc=function(e){return e.map((function(e){return e.product.name}))},Ic=function(){var e=Object(r.useState)(),t=Object(u.a)(e,2),c=t[0],a=t[1],s=Object(b.f)(),n=Object(ie.d)(),o=Object(m.b)(),i=Object(Uc.useElements)(),l=Object(Uc.useStripe)(),O=Object(m.c)((function(e){return e.authReducer})).user,h=Object(m.c)((function(e){return e.cartReducer})),x=h.cartTotalPrice,g=h.shippingInfo,v=h.cartItems,y=Object(m.c)((function(e){return e.createOrder})).error,N=x>200?25:0,E=Number((.05*x).toFixed(2)),_=x+N+E;Object(r.useEffect)((function(){y&&(n.error(y),o(lc()))}),[y,o,n]);var w,S={orderItems:(w=v,w.map((function(e){return{name:e.product.name,quantity:e.totalQuantity,image:e.product.images[0].url,price:e.product.price,product:e.product._id}}))),shippingInfo:g,taxPrice:E,shippingPrice:N,totalPrice:_},R={amount:Math.round(100*_),description:Dc(v).toString(),shipping:{name:O.name,address:{line1:g.address,postal_code:g.postalCode,city:g.city,state:g.city,country:g.country}}},C=function(){var e=Object(j.a)(d.a.mark((function e(t){var c,r,j,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(R.description),a(!0),e.prev=3,r={headers:{"Content-Type":"application/json"}},e.next=7,f.a.post("/api/v1/payment/process",R,r);case 7:if(c=e.sent,j=c.data.client_secret,l&&i){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,l.confirmCardPayment(j,{payment_method:{card:i.getElement(Uc.CardNumberElement),billing_details:{name:O.name,email:O.email}}});case 13:u=e.sent,a(!1),u.error?(n.error(u.error.message),a(!1)):"succeeded"===u.paymentIntent.status?(S.paymentInfo={id:u.paymentIntent.id,status:u.paymentIntent.status},o(dc(S)),s.push("/success")):n.error("There is some issue while payment processing"),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(3),a(!1),n.error(e.t0.response.data.message);case 22:case"end":return e.stop()}}),e,null,[[3,18]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)("div",{className:"row wrapper",children:Object(p.jsx)("div",{className:"col-10 col-lg-5",children:Object(p.jsxs)("form",{className:"shadow-lg",onSubmit:C,children:[Object(p.jsx)("h1",{className:"mb-4",children:"Card Info"}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"card_num_field",children:"Card Number"}),Object(p.jsx)(Uc.CardNumberElement,{type:"text",id:"card_num_field",className:"form-control",required:!0,options:Ac})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"card_exp_field",children:"Card Expiry"}),Object(p.jsx)(Uc.CardExpiryElement,{type:"text",id:"card_exp_field",className:"form-control",required:!0,options:Ac})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"card_cvc_field",children:"Card CVC"}),Object(p.jsx)(Uc.CardCvcElement,{type:"text",id:"card_cvc_field",className:"form-control",required:!0,options:Ac})]}),Object(p.jsx)("button",{id:"pay_btn",type:"submit",className:"btn btn-block py-3",disabled:!!c,children:c?Object(p.jsx)(oe,{}):"Pay - ".concat(_)})]})})})},Fc=function(){return Object(p.jsxs)(r.Fragment,{children:[Object(p.jsx)(He,{title:"Payment"}),Object(p.jsx)(Sc,{shipping:!0,confirmOrder:!0,payment:!0}),Object(p.jsx)(Ic,{})]})},Lc=c(96),kc=function(){return Object(p.jsxs)(r.Fragment,{children:[Object(p.jsx)(He,{title:"Payment Success"}),Object(p.jsx)("div",{class:"row justify-content-center",children:Object(p.jsxs)("div",{class:"col-6 mt-5 text-center",children:[Object(p.jsx)("img",{class:"my-5 img-fluid d-block mx-auto",src:"https://freepngimg.com/thumb/success/6-2-success-png-image.png",alt:"Order Success",width:"200",height:"200"}),Object(p.jsx)("h2",{children:"Your Order has been placed successfully."}),Object(p.jsx)(n.b,{to:"/orders",children:"Go to Orders"})]})})]})},Mc=function(e){var t=e.orders;return Object(p.jsx)(pc.c,{data:function(){var e={columns:[{label:"Order ID",field:"id",sort:"asc"},{label:"Num of Items",field:"numofItems",sort:"asc"},{label:"Amount",field:"amount",sort:"asc"},{label:"Status",field:"status",sort:"asc"},{label:"Actions",field:"actions"}],rows:[]};return t.forEach((function(t){e.rows.push({id:t._id,numofItems:t.orderItems.length,amount:"$".concat(t.totalPrice),status:t.orderStatus&&t.orderStatus.includes("Delivered")?Object(p.jsx)("p",{style:{color:"green"},children:t.orderStatus}):Object(p.jsx)("p",{style:{color:"red"},children:t.orderStatus}),actions:Object(p.jsx)(r.Fragment,{children:Object(p.jsx)(n.b,{to:"/order/".concat(t._id),className:"btn btn-primary ",children:Object(p.jsx)("i",{className:"fa fa-eye"})})})})})),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0})},Qc=function(){var e=Object(m.c)((function(e){return e.getOrders})),t=e.orders,c=e.error,a=e.loading,s=Object(ie.d)(),n=Object(m.b)();return Object(r.useEffect)((function(){n(function(){var e=Object(j.a)(d.a.mark((function e(t){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:zt}),e.next=4,f.a.get("/api/v1/orders/me");case 4:c=e.sent,console.log(c.data),t({type:$t,payload:c.data.orders}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.response),t({type:Ht,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[n]),Object(r.useEffect)((function(){c&&(s.error(c),n(lc()))}),[c,n,s]),Object(p.jsxs)(r.Fragment,{children:[Object(p.jsx)(He,{title:"My Orders"}),Object(p.jsx)("h1",{className:"my-5",children:"Your Orders"}),a?Object(p.jsx)(Be,{}):t&&Object(p.jsx)(Mc,{orders:t})]})},qc=function(e){var t=e.order,c=Object(m.c)((function(e){return e.authReducer})).user,a=!(!t||!t.paymentInfo||"succeeded"!==t.paymentInfo.status);return Object(p.jsx)("div",{className:"row d-flex justify-content-between",children:Object(p.jsxs)("div",{className:"col-12 col-lg-8 mt-5 order-details",children:[Object(p.jsxs)("h1",{className:"my-5",children:["Order # ",t._id]}),Object(p.jsx)("h4",{className:"mb-4",children:"Shipping Info"}),Object(p.jsxs)("p",{children:[Object(p.jsx)("b",{children:"Name:"})," ",c&&c.name]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("b",{children:"Phone:"})," ",t.shippingInfo.phoneNumber]}),Object(p.jsxs)("p",{className:"mb-4",children:[Object(p.jsx)("b",{children:"Address:"}),t.shippingInfo.address]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("b",{children:"Amount:"})," $",t.totalPrice]}),Object(p.jsx)("hr",{}),Object(p.jsx)("h4",{className:"my-4",children:"Payment"}),Object(p.jsx)("p",{className:"greenColor",children:Object(p.jsx)("b",{className:a?"greenColor":"redColor",children:a?"PAID":"NOT PAID"})}),Object(p.jsx)("h4",{className:"my-4",children:"Order Status:"}),Object(p.jsx)("p",{className:t.orderStatus&&t.orderStatus.includes("Delivered")?"greenColor":"redColor",children:Object(p.jsx)("b",{children:t.orderStatus})}),Object(p.jsx)("h4",{className:"my-4",children:"Order Items:"}),Object(p.jsx)("hr",{}),Object(p.jsx)("div",{className:"cart-item my-1",children:t.orderItems.map((function(e){return Object(p.jsxs)("div",{className:"row my-5",children:[Object(p.jsx)("div",{className:"col-4 col-lg-2",children:Object(p.jsx)("img",{src:e.image,alt:"Laptop",height:"45",width:"65"})}),Object(p.jsx)("div",{className:"col-5 col-lg-5",children:Object(p.jsx)(n.b,{to:"/product/".concat(e.product),children:e.name})}),Object(p.jsx)("div",{className:"col-4 col-lg-2 mt-4 mt-lg-0",children:Object(p.jsxs)("p",{children:["$",e.price]})}),Object(p.jsx)("div",{className:"col-4 col-lg-3 mt-4 mt-lg-0",children:Object(p.jsxs)("p",{children:[e.quantity," Piece(s)"]})})]})}))}),Object(p.jsx)("hr",{})]})})},Wc=function(){var e=Object(m.c)((function(e){return e.orderDetails})),t=e.order,c=e.loading,a=e.error,s=Object(m.b)(),n=Object(ie.d)(),o=Object(b.g)().id;return console.log("order ",t),Object(r.useEffect)((function(){console.log("check request"),s(jc(o))}),[s,o]),Object(r.useEffect)((function(){console.log("no error"),a&&(console.log("error is there"),n.error(a),s(lc()))}),[a,s,n]),Object(p.jsxs)(r.Fragment,{children:[Object(p.jsx)(He,{title:"Order Details"}),c?Object(p.jsx)(Be,{}):t&&Object(p.jsx)(qc,{order:t})]})},Vc=function(e){var t=e.orders,c=Object(m.b)(),a=Object(m.c)((function(e){return e.deleteOrder})),s=a.loading,o=a.error,i=Object(ie.d)();Object(r.useEffect)((function(){o&&(i.error(o),c(lc()))}),[o,c,i]);var l=function(e){c(function(e){return function(){var t=Object(j.a)(d.a.mark((function t(c){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:rc}),t.next=4,f.a.delete("/api/v1/orders/".concat(e));case 4:a=t.sent,console.log(a.data),c({type:sc,payload:a.data.success}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0.response.data.message),c({type:nc,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(p.jsx)(pc.c,{data:function(){var e={columns:[{label:"Order ID",field:"id",sort:"asc"},{label:"No of Items",field:"numOfItems",sort:"asc"},{label:"Amount",field:"amount",sort:"asc"},{label:"Status",field:"status",sort:"asc"},{label:"Actions",field:"actions"}],rows:[]};return t.forEach((function(t){e.rows.push({id:t._id,numOfItems:t.orderItems.length,amount:"$".concat(t.totalPrice),status:t.orderStatus&&t.orderStatus.includes("Delivered")?Object(p.jsx)("p",{style:{color:"green"},children:t.orderStatus}):Object(p.jsx)("p",{style:{color:"red"},children:t.orderStatus}),actions:Object(p.jsxs)(r.Fragment,{children:[Object(p.jsx)(n.b,{to:"/admin/orders/".concat(t._id),className:"btn btn-primary py-1 px-2",children:Object(p.jsx)("i",{className:"fa fa-eye"})}),Object(p.jsx)("button",{className:"btn btn-danger py-1 px-2 ml-2",onClick:function(){return l(t._id)},children:s?Object(p.jsx)(oe,{}):Object(p.jsx)("i",{className:"fa fa-trash"})})]})})})),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0})},Gc=function(){var e=Object(m.c)((function(e){return e.allOrders})),t=e.loading,c=e.error,a=e.orders,s=Object(m.c)((function(e){return e.deleteOrder})).isDeleted,n=Object(m.b)(),o=Object(ie.d)();return Object(r.useEffect)((function(){n(uc())}),[n]),Object(r.useEffect)((function(){s&&(o.success("Order deleted successfully!"),n(uc()),n({type:oc}))}),[s,n,o]),Object(r.useEffect)((function(){if(c)return o.error(c),n(lc())}),[c,n,o]),Object(p.jsxs)(r.Fragment,{children:[Object(p.jsx)(He,{title:"All Products"}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-12 col-md-2",children:Object(p.jsx)(bc,{})}),Object(p.jsx)("div",{className:"col-12 col-md-10",children:Object(p.jsxs)(r.Fragment,{children:[Object(p.jsx)("h1",{className:"my-5",children:"All Orders"}),t?Object(p.jsx)(Be,{}):Object(p.jsx)(Vc,{orders:a})]})})]})]})},zc=function(e){var t=e.order,c=Object(r.useState)((null===t||void 0===t?void 0:t.orderStatus)||""),a=Object(u.a)(c,2),s=a[0],o=a[1],i=Object(m.c)((function(e){return e.updateOrder})),l=i.error,b=i.loading,O=i.isUpdated,h=Object(ie.d)(),x=Object(m.b)();console.log("order, ".concat(t));var g=t.shippingInfo,v=t.orderItems,y=t.paymentInfo,N=t.user,E=t.totalPrice,_=t.orderStatus;Object(r.useEffect)((function(){l&&(h.error(l),x(lc()))}),[h,x,l]),Object(r.useEffect)((function(){O&&(h.success("Order updated successfully"),x({type:ac}))}),[x,h,O]);var w=function(e){x(function(e,t){return function(){var c=Object(j.a)(d.a.mark((function c(a){var r,s;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,a({type:ec}),r={headers:{"Content-Type":"application/json"}},c.next=5,f.a.patch("/api/v1/orders/".concat(e),t,r);case 5:s=c.sent,a({type:tc,payload:s.data.success}),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(0),a({type:cc,payload:c.t0.response.data.message});case 12:case"end":return c.stop()}}),c,null,[[0,9]])})));return function(e){return c.apply(this,arguments)}}()}(e,{status:s}))},S=g&&"".concat(g.address,", ").concat(g.city,", ").concat(g.postalCode,", ").concat(g.country),R=!(!y||"succeeded"!==y.status);return Object(p.jsxs)("div",{className:"row d-flex justify-content-around",children:[Object(p.jsxs)("div",{className:"col-12 col-lg-7 order-details",children:[Object(p.jsxs)("h2",{className:"my-5",children:["Order # ",t._id]}),Object(p.jsx)("h4",{className:"mb-4",children:"Shipping Info"}),Object(p.jsxs)("p",{children:[Object(p.jsx)("b",{children:"Name:"})," ",N&&N.name]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("b",{children:"Phone:"})," ",g&&g.phoneNumber]}),Object(p.jsxs)("p",{className:"mb-4",children:[Object(p.jsx)("b",{children:"Address:"}),S]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("b",{children:"Amount:"})," $",E]}),Object(p.jsx)("hr",{}),Object(p.jsx)("h4",{className:"my-4",children:"Payment"}),Object(p.jsx)("p",{className:R?"greenColor":"redColor",children:Object(p.jsx)("b",{children:R?"PAID":"NOT PAID"})}),Object(p.jsx)("h4",{className:"my-4",children:"Stripe ID"}),Object(p.jsx)("p",{children:Object(p.jsx)("b",{children:y&&y.id})}),Object(p.jsx)("h4",{className:"my-4",children:"Order Status:"}),Object(p.jsx)("p",{className:t.orderStatus&&String(t.orderStatus).includes("Delivered")?"greenColor":"redColor",children:Object(p.jsx)("b",{children:_})}),Object(p.jsx)("h4",{className:"my-4",children:"Order Items:"}),Object(p.jsx)("hr",{}),Object(p.jsx)("div",{className:"cart-item my-1",children:v&&v.map((function(e){return Object(p.jsxs)("div",{className:"row my-5",children:[Object(p.jsx)("div",{className:"col-4 col-lg-2",children:Object(p.jsx)("img",{src:e.image,alt:e.name,height:"45",width:"65"})}),Object(p.jsx)("div",{className:"col-5 col-lg-5",children:Object(p.jsx)(n.b,{to:"/product/".concat(e.product),children:e.name})}),Object(p.jsx)("div",{className:"col-4 col-lg-2 mt-4 mt-lg-0",children:Object(p.jsxs)("p",{children:["$",e.price]})}),Object(p.jsx)("div",{className:"col-4 col-lg-3 mt-4 mt-lg-0",children:Object(p.jsxs)("p",{children:[e.quantity," Piece(s)"]})})]},e.product)}))}),Object(p.jsx)("hr",{})]}),Object(p.jsxs)("div",{className:"col-12 col-lg-3 mt-5",children:[Object(p.jsx)("h4",{className:"my-4",children:"Status"}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsxs)("select",{className:"form-control",name:"status",value:s,onChange:function(e){return o(e.target.value)},children:[Object(p.jsx)("option",{value:"Processing",children:"Processing"}),Object(p.jsx)("option",{value:"Shipped",children:"Shipped"}),Object(p.jsx)("option",{value:"Delivered",children:"Delivered"})]})}),Object(p.jsx)("button",{className:"btn btn-primary btn-block",disabled:b,onClick:function(){return w(t._id)},children:b?Object(p.jsx)(oe,{}):"Update Status"})]})]})},$c=function(e){var t=e.match,c=Object(m.c)((function(e){return e.orderDetails})),a=c.order,s=c.loading,n=c.error,o=Object(m.c)((function(e){return e.updateOrder})).isUpdated,i=Object(m.b)(),l=Object(ie.d)(),d=t.params.id;return console.log("order ",a),Object(r.useEffect)((function(){i(jc(d))}),[i,d]),Object(r.useEffect)((function(){o&&i(jc(d))}),[i,o,d]),Object(r.useEffect)((function(){n&&(l.error(n),i(lc()))}),[n,i,l]),Object(p.jsxs)(r.Fragment,{children:[Object(p.jsx)(He,{title:"Update Order"}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-12 col-md-2",children:Object(p.jsx)(bc,{})}),Object(p.jsx)("div",{className:"col-12 col-md-10",children:Object(p.jsx)(r.Fragment,{children:s?Object(p.jsx)(Be,{}):a&&Object(p.jsx)(zc,{order:a})})})]})]})},Hc=function(e){var t=e.users,c=Object(m.b)(),a=Object(m.c)((function(e){return e.deleteUser})),s=a.loading,o=a.error,i=Object(ie.d)();Object(r.useEffect)((function(){o&&(i.error(o),c(ae()))}),[o,c,i]);var l=function(e){c(function(e){return function(){var t=Object(j.a)(d.a.mark((function t(c){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:I}),t.next=4,f.a.delete("/api/v1/users/".concat(e));case 4:a=t.sent,c({type:F,payload:a.data.success}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0.response.data),c({type:L,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(p.jsx)(pc.c,{data:function(){var e={columns:[{label:"User ID",field:"id",sort:"asc"},{label:"Name",field:"name",sort:"asc"},{label:"Email",field:"email",sort:"asc"},{label:"Role",field:"role",sort:"asc"},{label:"Actions",field:"actions"}],rows:[]};return t&&t.forEach((function(t){e.rows.push({id:t._id,name:t.name,email:t.email,role:t.role,actions:Object(p.jsxs)(r.Fragment,{children:[Object(p.jsx)(n.b,{to:"/admin/users/".concat(t._id),className:"btn btn-primary py-1 px-2",children:Object(p.jsx)("i",{className:"fa fa-pencil"})}),Object(p.jsx)("button",{className:"btn btn-danger py-1 px-2 ml-2",onClick:function(){return l(t._id)},children:s?Object(p.jsx)(oe,{}):Object(p.jsx)("i",{className:"fa fa-trash"})})]})})})),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0})},Yc=function(){var e=Object(m.c)((function(e){return e.allUsers})),t=e.loading,c=e.error,a=e.users,s=Object(m.c)((function(e){return e.deleteUser})).isDeleted,n=Object(m.b)(),o=Object(ie.d)();return Object(r.useEffect)((function(){n(se())}),[n]),Object(r.useEffect)((function(){s&&(o.success("User deleted successfully!"),n(se()),n({type:k}))}),[s,n,o]),Object(r.useEffect)((function(){if(c)return o.error(c),n(ae())}),[c,n,o]),console.log("users, ".concat(a)),Object(p.jsxs)(r.Fragment,{children:[Object(p.jsx)(He,{title:"All Users"}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-12 col-md-2",children:Object(p.jsx)(bc,{})}),Object(p.jsx)("div",{className:"col-12 col-md-10",children:Object(p.jsxs)(r.Fragment,{children:[Object(p.jsx)("h1",{className:"my-5",children:"All Users"}),t?Object(p.jsx)(Be,{}):Object(p.jsx)(Hc,{users:a})]})})]})]})},Bc=function(e){var t=e.history,c=e.match,a=Object(r.useState)(""),s=Object(u.a)(a,2),n=s[0],o=s[1],i=Object(r.useState)(""),l=Object(u.a)(i,2),b=l[0],O=l[1],h=Object(r.useState)(""),x=Object(u.a)(h,2),g=x[0],v=x[1],y=Object(ie.d)(),N=Object(m.b)(),E=Object(m.c)((function(e){return e.updateUser})),_=E.error,w=E.isUpdated,S=E.loading,R=Object(m.c)((function(e){return e.userDetails})),C=R.user,P=R.loading,I=c.params.id;Object(r.useEffect)((function(){var e;console.log(C&&C._id!==I),C&&C._id!==I?N((e=I,function(){var t=Object(j.a)(d.a.mark((function t(c){var a,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:H}),t.next=4,f.a.get("/api/v1/users/".concat(e));case 4:a=t.sent,r=a.data,c({type:Y,payload:r.user}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:B,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}())):(o(C.name),O(C.email),v(C.role)),_&&(y.error(_),N(ae())),w&&(y.success("User updated successfully"),t.push("/admin/users"),N({type:D}))}),[N,y,_,t,w,I,C]);return Object(p.jsxs)(r.Fragment,{children:[Object(p.jsx)(He,{title:"Update User"}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-12 col-md-2",children:Object(p.jsx)(bc,{})}),P?Object(p.jsx)(Be,{}):Object(p.jsx)("div",{className:"col-12 col-md-10",children:Object(p.jsx)("div",{className:"row wrapper",children:Object(p.jsx)("div",{className:"col-10 col-lg-5",children:Object(p.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,c,a={name:n,email:b,role:g};N((t=C._id,c=a,function(){var e=Object(j.a)(d.a.mark((function e(a){var r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:T}),r={headers:{"Content-Type":"application/json"}},e.next=5,f.a.patch("/api/v1/users/".concat(t),c,r);case 5:s=e.sent,a({type:U,payload:s.data.success}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a({type:A,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(p.jsx)("h1",{className:"mt-2 mb-5",children:"Update User"}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"name_field",children:"Name"}),Object(p.jsx)("input",{type:"name",id:"name_field",className:"form-control",name:"name",value:n,onChange:function(e){return o(e.target.value)}})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object(p.jsx)("input",{type:"email",id:"email_field",className:"form-control",name:"email",value:b,onChange:function(e){return O(e.target.value)}})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"role_field",children:"Role"}),Object(p.jsxs)("select",{id:"role_field",className:"form-control",name:"role",value:g,onChange:function(e){return v(e.target.value)},children:[Object(p.jsx)("option",{value:"user",children:"user"}),Object(p.jsx)("option",{value:"admin",children:"admin"})]})]}),Object(p.jsx)("button",{type:"submit",className:"btn update-btn btn-block mt-4 mb-3",disabled:S,children:S?Object(p.jsx)(oe,{}):"Update User"})]})})})})]})]})},Jc=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),c=t[0],a=t[1],s=Object(ie.d)(),n=Object(m.b)(),o=Object(m.c)((function(e){return e.productReviews})),i=o.error,l=o.reviews,b=Object(m.c)((function(e){return e.review})),O=b.isDeleted,h=b.error;Object(r.useEffect)((function(){i&&(s.error(i),n(Ve())),h&&(s.error(h),n(Ve())),O&&(s.success("Review deleted successfully"),n({type:Me}))}),[n,s,i,c,O,h]);var x=function(e){n(function(e,t){return function(){var c=Object(j.a)(d.a.mark((function c(a){var r,s;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,a({type:Le}),c.next=4,f.a.delete("/api/v1/products/review/".concat(t,"?reviewId=").concat(e));case 4:r=c.sent,s=r.data,a({type:ke,payload:s.success}),c.next=13;break;case 9:c.prev=9,c.t0=c.catch(0),console.log(c.t0.response),a({type:Qe,payload:c.t0.response.data.message});case 13:case"end":return c.stop()}}),c,null,[[0,9]])})));return function(e){return c.apply(this,arguments)}}()}(e,c))};return Object(p.jsxs)(r.Fragment,{children:[Object(p.jsx)(He,{title:"Product Reviews"}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-12 col-md-2",children:Object(p.jsx)(bc,{})}),Object(p.jsx)("div",{className:"col-12 col-md-10",children:Object(p.jsxs)(r.Fragment,{children:[Object(p.jsx)("div",{className:"row justify-content-center mt-5",children:Object(p.jsx)("div",{className:"col-5",children:Object(p.jsxs)("form",{onSubmit:function(e){var t;e.preventDefault(),n((t=c,function(){var e=Object(j.a)(d.a.mark((function e(c){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:De}),e.next=4,f.a.get("/api/v1/products/review/".concat(t));case 4:a=e.sent,r=a.data,c({type:Ie,payload:r.reviews}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),c({type:Fe,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"productId_field",children:"Enter Product ID"}),Object(p.jsx)("input",{type:"text",id:"productId_field",className:"form-control",value:c,onChange:function(e){return a(e.target.value)}})]}),Object(p.jsx)("button",{id:"search_button",type:"submit",className:"btn btn-primary btn-block py-2",disabled:""===c,children:"SEARCH"})]})})}),l&&l.length>0?Object(p.jsx)(pc.c,{data:function(){var e={columns:[{label:"Review ID",field:"id",sort:"asc"},{label:"Rating",field:"rating",sort:"asc"},{label:"Comment",field:"comment",sort:"asc"},{label:"User",field:"user",sort:"asc"},{label:"Actions",field:"actions"}],rows:[]};return l.forEach((function(t){e.rows.push({id:t._id,rating:t.rating,comment:t.comment,user:t.name,actions:Object(p.jsx)("button",{className:"btn btn-danger py-1 px-2 ml-2",onClick:function(){return x(t._id)},children:Object(p.jsx)("i",{className:"fa fa-trash"})})})})),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0}):Object(p.jsx)("p",{className:"mt-5 text-center",children:"No Reviews."})]})})]})]})};var Kc=function(){var e=Object(m.c)((function(e){return e.authReducer})),t=e.isAuthenticated,c=e.error,a=Object(m.b)(),s=Object(r.useState)(""),n=Object(u.a)(s,2),o=n[0],i=n[1];return Object(r.useEffect)((function(){function e(){return(e=Object(j.a)(d.a.mark((function e(){var t,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("/api/v1/payment/stripeApi");case 2:t=e.sent,c=t.data,i(c.stripeApiKey);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(r.useEffect)((function(){a(re()),console.log("From load")}),[a]),Object(r.useEffect)((function(){console.log("From clear"),a(Ve())}),[c,a]),Object(r.useEffect)((function(){t&&a(xt())}),[t,a]),Object(p.jsxs)(je,{children:[Object(p.jsxs)("div",{className:"container container-fluid",children:[Object(p.jsx)(b.b,{path:"/",component:tt,exact:!0}),Object(p.jsx)(b.b,{path:"/search/:keyword",component:tt,exact:!0}),Object(p.jsx)(b.b,{path:"/product/:id",component:Ct,exact:!0}),Object(p.jsx)(b.b,{path:"/login",exact:!0,children:t?Object(p.jsx)(b.a,{to:"/"}):Object(p.jsx)(Pt,{})}),Object(p.jsx)(b.b,{path:"/signup",exact:!0,children:t?Object(p.jsx)(b.a,{to:"/"}):Object(p.jsx)(Ut,{})}),Object(p.jsx)(b.b,{path:"/forgotPassword",exact:!0,children:t?Object(p.jsx)(b.a,{to:"/"}):Object(p.jsx)(Qt,{})}),Object(p.jsx)(b.b,{path:"/resetPassword/:token",exact:!0,children:t?Object(p.jsx)(b.a,{to:"/"}):Object(p.jsx)(qt,{})}),Object(p.jsx)(Lt,{path:"/me",component:Dt,exact:!0}),Object(p.jsx)(Lt,{path:"/update/me",component:kt,exact:!0}),Object(p.jsx)(Lt,{path:"/updatePassword/me",component:Mt,exact:!0}),Object(p.jsx)(Lt,{path:"/cart",component:wc,exact:!0}),Object(p.jsx)(Lt,{path:"/shipping",component:Cc,exact:!0}),Object(p.jsx)(Lt,{path:"/confirm",component:Tc,exact:!0}),o&&Object(p.jsx)(Uc.Elements,{stripe:Object(Lc.a)(o),children:Object(p.jsx)(Lt,{path:"/payment",component:Fc,exact:!0})}),Object(p.jsx)(Lt,{path:"/success",component:kc,exact:!0}),Object(p.jsx)(Lt,{path:"/orders",component:Qc,exact:!0}),Object(p.jsx)(Lt,{path:"/order/:id",component:Wc,exact:!0})]}),Object(p.jsx)(Lt,{path:"/dashboard",isAdmin:!0,component:mc,exact:!0}),Object(p.jsx)(Lt,{path:"/admin/products",isAdmin:!0,component:hc,exact:!0}),Object(p.jsx)(Lt,{path:"/admin/createProduct",isAdmin:!0,component:xc,exact:!0}),Object(p.jsx)(Lt,{path:"/admin/products/:id",isAdmin:!0,component:vc,exact:!0}),Object(p.jsx)(Lt,{path:"/admin/orders",isAdmin:!0,component:Gc,exact:!0}),Object(p.jsx)(Lt,{path:"/admin/orders/:id",isAdmin:!0,component:$c,exact:!0}),Object(p.jsx)(Lt,{path:"/admin/users",isAdmin:!0,component:Yc,exact:!0}),Object(p.jsx)(Lt,{path:"/admin/users/:id",isAdmin:!0,component:Bc,exact:!0}),Object(p.jsx)(Lt,{path:"/admin/reviews",isAdmin:!0,component:Jc,exact:!0})]})},Xc=c(43),Zc=c(97),ea=c(98),ta=Object(Xc.combineReducers)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case be:case Oe:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case me:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,products:t.payload.products,productsCount:t.payload.productsCount,productsPerPage:t.payload.productsPerPage,filteredProductsCount:t.payload.filteredProductsCount,error:null});case he:return{loading:!1,products:t.payload};case pe:case fe:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,error:t.payload});case qe:return Object(a.a)(Object(a.a)({},e),{},{error:null});case"CLEAR_PRODUCTS":return Object(a.a)(Object(a.a)({},e),{},{products:[]});default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xe:return Object(a.a)(Object(a.a)({},e),{},{loading:!0,error:null});case ge:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,product:t.payload,error:null});case ve:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,error:t.payload});case We:return Object(a.a)(Object(a.a)({},e),{},{product:{}});case qe:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},newProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pe:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case Te:return{loading:!1,success:t.payload.success,product:t.payload.product};case Ae:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload,loading:!1});case Ue:return Object(a.a)(Object(a.a)({},e),{},{success:!1,loading:!1});case qe:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},deleteProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ye:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case Ne:return{loading:!1,isDeleted:t.payload};case Ee:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload,loading:!1,isDeleted:!1});case _e:return Object(a.a)(Object(a.a)({},e),{},{isDeleted:!1,loading:!1});case qe:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},updateProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case we:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case Se:return{loading:!1,isUpdated:t.payload};case Re:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload,loading:!1,isUpdated:!1});case Ce:return Object(a.a)(Object(a.a)({},e),{},{isUpdated:!1,loading:!1});case qe:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},authReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:case y:case _:return Object(a.a)(Object(a.a)({},e),{},{loading:!0,error:null,isAuthenticated:!1});case g:case N:case w:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,user:t.payload,error:null,isAuthenticated:!0});case S:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,error:t.payload,isAuthenticated:!1,user:null});case v:case E:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,error:t.payload,isAuthenticated:!1});case M:return Object(a.a)(Object(a.a)({},e),{},{isAuthenticated:!1,loading:!1,error:null,user:null});case ce:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:case G:return Object(a.a)(Object(a.a)({},e),{},{error:null,isLoading:!0});case q:case z:return Object(a.a)(Object(a.a)({},e),{},{isLoading:!1,isUpdated:t.payload,error:null});case V:case $:return Object(a.a)(Object(a.a)({},e),{},{isLoading:!1,isUpdated:!1,error:t.payload});case W:return Object(a.a)(Object(a.a)({},e),{},{isLoading:!1,isUpdated:!1});case ce:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},forgotAndResetPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:case Z:return Object(a.a)(Object(a.a)({},e),{},{isLoading:!0,message:null,error:null});case K:case ee:return Object(a.a)(Object(a.a)({},e),{},{isLoading:!1,message:t.payload,error:null});case X:case te:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload,isLoading:!1,message:null});case W:return Object(a.a)(Object(a.a)({},e),{},{isLoading:!1,message:null});case ce:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},cartReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingInfo:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case at:return Object(a.a)(Object(a.a)({},e),{},{cartLoading:!0,cartError:null});case rt:return Object(a.a)(Object(a.a)({},e),{},{cartLoading:!1,cartItems:t.payload.cartItems,cartItemsLength:t.payload.cartItems.length,cartTotalPrice:t.payload.cartTotalPrice,cartTotalQuantity:t.payload.cartTotalQuantity,cartError:null});case st:return Object(a.a)(Object(a.a)({},e),{},{cartLoading:!1,cartItems:null,cartItemsLength:null,cartError:t.payload});case pt:return Object(a.a)(Object(a.a)({},e),{},{shippingInfo:t.payload});case Ot:return Object(a.a)(Object(a.a)({},e),{},{success:!1,cartLoading:!1});case ht:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},cartActionsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nt:case lt:return Object(a.a)(Object(a.a)({},e),{},{cartLoading:!0});case ot:return Object(a.a)(Object(a.a)({},e),{},{success:!0,cartLoading:!1,message:"Item added!"});case dt:return Object(a.a)(Object(a.a)({},e),{},{success:!0,cartLoading:!1,message:"Item removed!"});case it:case jt:return Object(a.a)(Object(a.a)({},e),{},{success:!1,cartLoading:!1,error:t.payload});case Ot:return Object(a.a)(Object(a.a)({},e),{},{success:!1,cartLoading:!1,message:null});case ht:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},deleteCartItem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ut:return Object(a.a)(Object(a.a)({},e),{},{cartLoading:!0});case bt:return Object(a.a)(Object(a.a)({},e),{},{success:!0,cartLoading:!1,message:"Item added!"});case mt:return Object(a.a)(Object(a.a)({},e),{},{success:!1,cartLoading:!1,error:t.payload});case Ot:return Object(a.a)(Object(a.a)({},e),{},{success:!1,cartLoading:!1});case ht:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},createOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Wt:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case Vt:return Object(a.a)(Object(a.a)({},e),{},{order:t.payload,loading:!1});case Gt:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload,loading:!1});case ic:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},getOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case zt:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case $t:return Object(a.a)(Object(a.a)({},e),{},{orders:t.payload,loading:!1});case Ht:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload,loading:!1});case ic:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},allOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Yt:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case Bt:return Object(a.a)(Object(a.a)({},e),{},{orders:t.payload.orders,ordersLength:t.payload.orders.length,totalAmount:t.payload.totalAmount,loading:!1});case Jt:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload,loading:!1});case ic:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Kt:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case Xt:return Object(a.a)(Object(a.a)({},e),{},{order:t.payload,loading:!1});case Zt:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload,loading:!1});case ic:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},updateOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ec:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case tc:return{loading:!1,isUpdated:t.payload};case cc:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload,loading:!1,isUpdated:!1});case ac:return Object(a.a)(Object(a.a)({},e),{},{isUpdated:!1,loading:!1});case ic:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},deleteOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case rc:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case sc:return{loading:!1,isDeleted:t.payload};case nc:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload,loading:!1,isDeleted:!1});case oc:return Object(a.a)(Object(a.a)({},e),{},{isDeleted:!1,loading:!1});case ic:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},newReview:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vt:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case yt:return{loading:!1,success:t.payload};case Et:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload,loading:!1,success:!1});case Nt:return Object(a.a)(Object(a.a)({},e),{},{success:!1,loading:!1});case _t:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},productReviews:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{review:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case De:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case Ie:return{loading:!1,reviews:t.payload};case Fe:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload});case qe:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},review:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case ke:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isDeleted:t.payload});case Qe:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload});case Me:return Object(a.a)(Object(a.a)({},e),{},{isDeleted:!1});case qe:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},allUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case C:return Object(a.a)(Object(a.a)({},e),{},{users:t.payload.users,usersLength:t.payload.users.length,loading:!1});case P:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload,loading:!1});case ce:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},deleteUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case F:return{loading:!1,isDeleted:t.payload};case L:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload,loading:!1,isDeleted:!1});case k:return Object(a.a)(Object(a.a)({},e),{},{isDeleted:!1,loading:!1});case ce:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},updateUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case U:return{loading:!1,isUpdated:t.payload};case A:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload,loading:!1,isUpdated:!1});case D:return Object(a.a)(Object(a.a)({},e),{},{isUpdated:!1,loading:!1});case ce:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case Y:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,user:t.payload});case B:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,error:t.payload});case ce:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}}}),ca={cartReducer:{shippingInfo:localStorage.getItem("shippingInfo")?JSON.parse(localStorage.getItem("shippingInfo")):{}}},aa=[Zc.a],ra=Object(Xc.createStore)(ta,ca,Object(ea.composeWithDevTools)(Xc.applyMiddleware.apply(void 0,aa))),sa=c(99),na={timeout:5e3,position:ie.b.BOTTOM_CENTER,transition:ie.c.SCALE};i.a.render(Object(p.jsx)(m.a,{store:ra,children:Object(p.jsx)(ie.a,Object(a.a)(Object(a.a)({template:sa.a},na),{},{children:Object(p.jsx)(n.a,{children:Object(p.jsx)(Kc,{})})}))}),document.getElementById("root"))},48:function(e,t,c){}},[[158,1,2]]]);
//# sourceMappingURL=main.c359e8d5.chunk.js.map